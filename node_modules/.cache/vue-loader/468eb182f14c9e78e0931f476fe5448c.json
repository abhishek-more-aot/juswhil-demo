{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ValueSelect.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ValueSelect.vue","mtime":1672064999295},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAidnVlLXByb3BlcnR5LWRlY29yYXRvciI7CmltcG9ydCB7IElQcm9kdWN0RGF0YSB9IGZyb20gIkAvYXBpL3R5cGVzIjsKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAiQC9jb21wb25lbnRzL1BhZ2luYXRpb24vaW5kZXgudnVlIjsKaW1wb3J0IHsgZXhwb3J0SnNvbjJFeGNlbCB9IGZyb20gIkAvdXRpbHMvZXhjZWwiOwppbXBvcnQgeyBmb3JtYXRKc29uLCBnZXRRdWVyeSB9IGZyb20gIkAvdXRpbHMiOwppbXBvcnQgRW5hYmxlZCBmcm9tICJAL2NvbXBvbmVudHMvRW5hYmxlZC9pbmRleC52dWUiOwppbXBvcnQgeyBBZG1pbk1vZHVsZSB9IGZyb20gIkAvc3RvcmUvbW9kdWxlcy9hZG1pbiI7CmltcG9ydCBTb3J0YWJsZSBmcm9tICJzb3J0YWJsZWpzIjsKaW1wb3J0IHsgRm9ybSB9IGZyb20gImVsZW1lbnQtdWkiOwppbXBvcnQgeyBBY3Rpb24gfSBmcm9tICJ2dWV4LW1vZHVsZS1kZWNvcmF0b3JzIjsKaW1wb3J0IHsKICBhZGRQcm9kdWN0T3B0aW9uVmFsdWUsCiAgZGVmYXVsdFByb2R1Y3RPcHRpb25WYWx1ZXNEYXRhLAogIHVwZGF0ZVByb2R1Y3RPcHRpb25WYWx1ZSwKICBnZXRQcm9kdWN0T3B0aW9uVmFsdWVCeUlkCn0gZnJvbSAiQC9hcGkvcHJvZHVjdE9wdGlvblZhbHVlcyI7CmltcG9ydCB7IGF2YWlsYWJsZVZhbHVlcyB9IGZyb20gIkAvYXBpL3Byb2R1Y3QiOwppbXBvcnQgcm91dGVyIGZyb20gIi4vLi4vLi4vLi4vcm91dGVyIjsKCkBDb21wb25lbnQoewogIG5hbWU6ICJUeXBlTGlzdCIsCiAgY29tcG9uZW50czogewogICAgUGFnaW5hdGlvbiwKICAgIEVuYWJsZWQsCiAgfSwKfSkKZXhwb3J0IGRlZmF1bHQgY2xhc3MgZXh0ZW5kcyBWdWUgewogIEBQcm9wKHsgZGVmYXVsdDogZmFsc2UgfSkgcHJpdmF0ZSBpc0VkaXQhOiBib29sZWFuOwoKICBwcml2YXRlIHRhYmxlS2V5ID0gMDsKICBwcml2YXRlIHRvdGFsID0gMDsKICBvcHRpb25JZCA9IDA7CiAgb3B0aW9uVmFsdWVzTGlzdDogYW55ID0gW107CiAgcHJpdmF0ZSBwb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRQcm9kdWN0T3B0aW9uVmFsdWVzRGF0YSk7CiAgcHJpdmF0ZSBsb2FkaW5nID0gZmFsc2U7CiAgcHJpdmF0ZSBsaXN0OiBJUHJvZHVjdERhdGFbXSA9IFtdOwogIHByaXZhdGUgbXlSb2xlID0gQWRtaW5Nb2R1bGUucm9sZXM7CiAgcHJpdmF0ZSBsaXN0TG9hZGluZyA9IHRydWU7CiAgbmV3TGlzdDogYW55ID0gW107CiAgb2xkTGlzdDogYW55ID0gW107CiAgcHJpdmF0ZSBzaG93U29ydGluZ09wdGlvbjogYm9vbGVhbiA9IGZhbHNlOwogIHByaXZhdGUgcmVuZGVyQ29tcG9uZW50OiBib29sZWFuID0gdHJ1ZTsKICBzb3J0YWJsZTogYW55OwogIHByaXZhdGUgZG93bmxvYWRMb2FkaW5nID0gZmFsc2U7CgogIHByaXZhdGUgc2hvd0NyZWF0ZWREYXRlOiBib29sZWFuID0gZmFsc2U7CgogIHByaXZhdGUgZmlsdGVyczogYW55ID0gW107CgogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLmZldGNoRGF0YShwYXJzZUludChpZCkpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5vcHRpb25JZCA9IHBhcnNlSW50KAogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMub3B0aW9uSWQKICAgICAgKTsKICAgICAgdGhpcy5wb3N0Rm9ybS5wcm9kdWN0T3B0aW9uSWQgPSBwYXJzZUludCgKICAgICAgICB0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgICk7CiAgICAgIHRoaXMuZmV0Y2hPcHRpb25WYWx1ZXMoKTsKICAgIH0KICB9CgogIHByaXZhdGUgYXN5bmMgZmV0Y2hEYXRhKGlkOiBudW1iZXIpIHsKICAgIHRyeSB7CiAgICAgIGNvbnN0IGRhdGE6IGFueSA9IGF3YWl0IGdldFByb2R1Y3RPcHRpb25WYWx1ZUJ5SWQoaWQpCiAgICAgIHRoaXMucG9zdEZvcm0gPSBkYXRhCiAgICAgIHRoaXMub3B0aW9uSWQgPSBkYXRhLnByb2R1Y3RPcHRpb24ub3B0aW9uSWQKICAgICAgdGhpcy5mZXRjaE9wdGlvblZhbHVlcygpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgUHJvbWlzZS5yZWplY3QoZXJyKQogICAgfQogIH0KCiAgcHJpdmF0ZSBzdWJtaXRGb3JtKCkgewogICAgKHRoaXMuJHJlZnMucG9zdEZvcm0gYXMgRm9ybSkudmFsaWRhdGUoKHZhbGlkKSA9PiB7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHRoaXMuc2F2ZUZvcm0oKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgcHJpdmF0ZSByZXNldEZvcm0oKSB7CiAgICAodGhpcy4kcmVmcy5wb3N0Rm9ybSBhcyBGb3JtKS5yZXNldEZpZWxkcygpOwogIH0KCiAgQEFjdGlvbgogIHB1YmxpYyBhc3luYyBzYXZlRm9ybSgpIHsKICAgIHRyeSB7CiAgICAgIDsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgYXdhaXQgdXBkYXRlUHJvZHVjdE9wdGlvblZhbHVlKHRoaXMucG9zdEZvcm0uaWQsIHRoaXMucG9zdEZvcm0pCiAgICAgICAgICAudGhlbigocmVzcG9uc2U6IGFueSkgPT4gewogICAgICAgICAgICA7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAiRGF0YSB1cGRhdGVkIHN1Y2Nlc3NmdWxseSIsCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAwLAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJvdXRlci5wdXNoKAogICAgICAgICAgICAgICIvcHJvZHVjdC92YWx1ZXMvIiArCiAgICAgICAgICAgICAgICB0aGlzLnBvc3RGb3JtLnByb2R1Y3RPcHRpb25JZCArCiAgICAgICAgICAgICAgICAiLyIgKwogICAgICAgICAgICAgICAgdGhpcy5vcHRpb25JZAogICAgICAgICAgICApOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoZXJyb3I6IGFueSkgPT4gewogICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigic29tZSBlcnJvciBvY2N1cmVkLiIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhd2FpdCBhZGRQcm9kdWN0T3B0aW9uVmFsdWUodGhpcy5wb3N0Rm9ybSkKICAgICAgICAgIC50aGVuKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICAgICAgdGl0bGU6ICJTdWNjZXNzIiwKICAgICAgICAgICAgICBtZXNzYWdlOiAiRGF0YSBzYXZlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMCwKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByb3V0ZXIucHVzaCgKICAgICAgICAgICAgICAiL3Byb2R1Y3QvdmFsdWVzLyIgKwogICAgICAgICAgICAgICAgdGhpcy5wb3N0Rm9ybS5wcm9kdWN0T3B0aW9uSWQgKwogICAgICAgICAgICAgICAgIi8iICsKICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uSWQKICAgICAgICAgICAgKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKGVycm9yOiBhbnkpID0+IHsKICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoInNvbWUgZXJyb3Igb2NjdXJlZC4iKTsKICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9CgogIHByaXZhdGUgYXN5bmMgZmV0Y2hPcHRpb25WYWx1ZXMoKSB7CiAgICBjb25zdCBkYXRhID0gewogICAgICBwcm9kdWN0T3B0aW9uSWQ6IHRoaXMucG9zdEZvcm0ucHJvZHVjdE9wdGlvbklkLAogICAgICBvcHRpb25zSWQ6IHRoaXMub3B0aW9uSWQsCiAgICB9OwogICAgCiAgICB0cnkgewogICAgICBjb25zdCByZXNwb25zZTogYW55ID0gYXdhaXQgYXZhaWxhYmxlVmFsdWVzKGRhdGEpOwogICAgICAKICAgICAgdGhpcy5vcHRpb25WYWx1ZXNMaXN0ID0gcmVzcG9uc2UudmFsdWVzOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIFByb21pc2UucmVqZWN0KGVycik7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ValueSelect.vue"],"names":[],"mappings":";AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ValueSelect.vue","sourceRoot":"src/views/product/components","sourcesContent":["<template>\n  <div class=\"form-block\">\n    <div class=\"source\">\n      <el-form\n        ref=\"postForm\"\n        :model=\"postForm\"\n        :rules=\"rules\"\n        label-width=\"160px\"\n        class=\"demo-form\"\n        label-position=\"left\"\n      >\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Enabled\"\n          prop=\"enabled\"\n        >\n          <el-switch v-model=\"postForm.enabled\" />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Values\"\n          prop=\"optionValueId\"\n          v-if=\"!this.isEdit\"\n        >\n          <el-select\n            v-model=\"postForm.optionValueId\"\n            name=\"optionIds\"\n            style=\"width: 50%\"\n            placeholder=\"Select\"\n            filterable=\"true\"\n            clearable=\"true\"\n            class=\"filter-item\"\n          >\n            <el-option\n              v-for=\"item in optionValuesList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            /> </el-select\n        ></el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"CNF Price\"\n          prop=\"cnfPrice\"\n        >\n          <el-input\n            v-model=\"postForm.cnfPrice\"\n            name=\"cnfPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"CNF Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Super Stockist Price\"\n          prop=\"superStockistPrice\"\n        >\n          <el-input\n            v-model=\"postForm.superStockistPrice\"\n            name=\"superStockistPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"Super Stockist Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"CD Price\"\n          prop=\"cdPrice\"\n        >\n          <el-input\n            v-model=\"postForm.cdPrice\"\n            name=\"cdPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"CD Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"SD Price\"\n          prop=\"sdPrice\"\n        >\n          <el-input\n            v-model=\"postForm.sdPrice\"\n            name=\"sdPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"SD Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"COP Price\"\n          prop=\"copPrice\"\n        >\n          <el-input\n            v-model=\"postForm.copPrice\"\n            name=\"copPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"COP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"SOP Price\"\n          prop=\"sopPrice\"\n        >\n          <el-input\n            v-model=\"postForm.sopPrice\"\n            name=\"sopPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"SOP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"MRP Price\"\n          prop=\"mrpPrice\"\n        >\n          <el-input\n            v-model=\"postForm.mrpPrice\"\n            name=\"mrpPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"MRP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"WB Price\"\n          prop=\"wbPrice\"\n        >\n          <el-input\n            v-model=\"postForm.wbPrice\"\n            name=\"wbPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"WB Price\"\n          />\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            v-loading=\"loading\"\n            v-waves\n            type=\"success\"\n             style=\"background:#59b6e3;border:1px solid #59b6e3\"\n            @click=\"submitForm\"\n          >\n            {{ $t(\"global.form.save\") }}\n          </el-button>\n          <el-button v-waves type=\"reset\" @click=\"resetForm\" v-if=\"!this.isEdit\">\n            {{ $t(\"global.form.reset\") }}\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { IProductData } from \"@/api/types\";\nimport Pagination from \"@/components/Pagination/index.vue\";\nimport { exportJson2Excel } from \"@/utils/excel\";\nimport { formatJson, getQuery } from \"@/utils\";\nimport Enabled from \"@/components/Enabled/index.vue\";\nimport { AdminModule } from \"@/store/modules/admin\";\nimport Sortable from \"sortablejs\";\nimport { Form } from \"element-ui\";\nimport { Action } from \"vuex-module-decorators\";\nimport {\n  addProductOptionValue,\n  defaultProductOptionValuesData,\n  updateProductOptionValue,\n  getProductOptionValueById\n} from \"@/api/productOptionValues\";\nimport { availableValues } from \"@/api/product\";\nimport router from \"./../../../router\";\n\n@Component({\n  name: \"TypeList\",\n  components: {\n    Pagination,\n    Enabled,\n  },\n})\nexport default class extends Vue {\n  @Prop({ default: false }) private isEdit!: boolean;\n\n  private tableKey = 0;\n  private total = 0;\n  optionId = 0;\n  optionValuesList: any = [];\n  private postForm = Object.assign({}, defaultProductOptionValuesData);\n  private loading = false;\n  private list: IProductData[] = [];\n  private myRole = AdminModule.roles;\n  private listLoading = true;\n  newList: any = [];\n  oldList: any = [];\n  private showSortingOption: boolean = false;\n  private renderComponent: boolean = true;\n  sortable: any;\n  private downloadLoading = false;\n\n  private showCreatedDate: boolean = false;\n\n  private filters: any = [];\n\n  created() {\n    if (this.isEdit) {\n      const id = this.$route.params && this.$route.params.id;\n      this.fetchData(parseInt(id));\n    } else {\n      this.optionId = parseInt(\n        this.$route.params && this.$route.params.optionId\n      );\n      this.postForm.productOptionId = parseInt(\n        this.$route.params && this.$route.params.id\n      );\n      this.fetchOptionValues();\n    }\n  }\n\n  private async fetchData(id: number) {\n    try {\n      const data: any = await getProductOptionValueById(id)\n      this.postForm = data\n      this.optionId = data.productOption.optionId\n      this.fetchOptionValues()\n    } catch (err) {\n      Promise.reject(err)\n    }\n  }\n\n  private submitForm() {\n    (this.$refs.postForm as Form).validate((valid) => {\n      if (valid) {\n        this.saveForm();\n      } else {\n        return false;\n      }\n    });\n  }\n\n  private resetForm() {\n    (this.$refs.postForm as Form).resetFields();\n  }\n\n  @Action\n  public async saveForm() {\n    try {\n      ;\n      this.loading = true;\n      if (this.isEdit) {\n        await updateProductOptionValue(this.postForm.id, this.postForm)\n          .then((response: any) => {\n            ;\n            this.$notify({\n              title: \"Success\",\n              message: \"Data updated successfully\",\n              type: \"success\",\n              duration: 2000,\n            });\n\n            router.push(\n              \"/product/values/\" +\n                this.postForm.productOptionId +\n                \"/\" +\n                this.optionId\n            );\n          })\n          .catch((error: any) => {\n            this.loading = false;\n            this.$message.error(\"some error occured.\");\n            console.log(error);\n          });\n      } else {\n        await addProductOptionValue(this.postForm)\n          .then((response: any) => {\n            this.$notify({\n              title: \"Success\",\n              message: \"Data saved successfully\",\n              type: \"success\",\n              duration: 2000,\n            });\n\n            router.push(\n              \"/product/values/\" +\n                this.postForm.productOptionId +\n                \"/\" +\n                this.optionId\n            );\n          })\n          .catch((error: any) => {\n            this.loading = false;\n            this.$message.error(\"some error occured.\");\n            console.log(error);\n          });\n      }\n    } catch (err) {\n      this.loading = false;\n    }\n  }\n\n  private async fetchOptionValues() {\n    const data = {\n      productOptionId: this.postForm.productOptionId,\n      optionsId: this.optionId,\n    };\n    \n    try {\n      const response: any = await availableValues(data);\n      \n      this.optionValuesList = response.values;\n    } catch (err) {\n      Promise.reject(err);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.edit-input {\n  padding-right: 100px;\n}\n\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n</style>\n"]}]}