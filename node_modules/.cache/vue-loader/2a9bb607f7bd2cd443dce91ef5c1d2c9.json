{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/profile/components/Account.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/profile/components/Account.vue","mtime":1668754947378},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVwbG9hZEZpbGUgfSBmcm9tICdAL2FwaS9jb21tb24nCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgSVByb2ZpbGUgfSBmcm9tICcuLi9pbmRleC52dWUnCmltcG9ydCB7CiAgZ2V0QWRtaW5CeUlkLAogIGRlZmF1bHRBZG1pbkRhdGEsCiAgdXBkYXRlQWRtaW4sCiAgVXBkYXRlUGFzc3dvcmQsCiAgcmVnaXN0ZXIKfSBmcm9tICdAL2FwaS9hZG1pbnMnCmltcG9ydCB7IFRhZ3NWaWV3TW9kdWxlLCBJVGFnVmlldyB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy90YWdzLXZpZXcnCmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3Z1ZXgtbW9kdWxlLWRlY29yYXRvcnMnCmltcG9ydCB7IEZvcm0gfSBmcm9tICdlbGVtZW50LXVpJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwppbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gJ0AvY29tcG9uZW50cy9BdmF0YXJVcGxvYWQvaW5kZXgudnVlJwppbXBvcnQgUGFuVGh1bWIgZnJvbSAnQC9jb21wb25lbnRzL1BhblRodW1iL2luZGV4LnZ1ZScKaW1wb3J0IHsgQWRtaW5Nb2R1bGUgfSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYWRtaW4nCgpAQ29tcG9uZW50KHsKICBuYW1lOiAnQWNjb3VudCcsCiAgY29tcG9uZW50czogewogICAgQXZhdGFyVXBsb2FkLAogICAgUGFuVGh1bWIKICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgVnVlIHsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pIHByaXZhdGUgdXNlciE6IElQcm9maWxlCiAgIHByaXZhdGUgaW1hZ2UgPSB0aGlzLnVzZXIuYXZhdGFyID8gdGhpcy51c2VyLmF2YXRhciA6ICdodHRwczovL3N0dW1wei5zMy5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb20vMTYxMTQzNDg3MjM5Mi1pbWcucG5nJwogIHByaXZhdGUgc2hvd0ltYWdlVXBsb2FkID0gZmFsc2UKICBwcml2YXRlIGRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgcHJpdmF0ZSBjaGFuZ2VQYXNzd29yZExvYWRpbmcgPSBmYWxzZTsKICBwcml2YXRlIHRlbXBUYWdWaWV3PzogSVRhZ1ZpZXc7CiAgcHJpdmF0ZSBwb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRBZG1pbkRhdGEpOwogIHByaXZhdGUgbG9hZGluZyA9IGZhbHNlOwogIHByaXZhdGUgZ2VuZGVyTGlzdCA9IFsKICAgIHsgbGFiZWw6ICdGZW1hbGUnLCB2YWx1ZTogJ0ZlbWFsZScgfSwKICAgIHsgbGFiZWw6ICdNYWxlJywgdmFsdWU6ICdNYWxlJyB9LAogICAgeyBsYWJlbDogJ090aGVycycsIHZhbHVlOiAnT3RoZXJzJyB9CiAgXTsKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKEFkbWluTW9kdWxlLmlkKQogIH0KCiAgcHJpdmF0ZSBhc3luYyBmZXRjaERhdGEoaWQ6IG51bWJlcikgewogICAgdHJ5IHsKICAgICAgY29uc3QgZGF0YTogYW55ID0gYXdhaXQgZ2V0QWRtaW5CeUlkKGlkKQogICAgICB0aGlzLnBvc3RGb3JtID0gZGF0YQogICAgICB0aGlzLmltYWdlID0gZGF0YS5hdmF0YXIKCiAgICAgIC8vIEp1c3QgZm9yIHRlc3QKICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLnBvc3RGb3JtLmVtYWlsCiAgICAgIC8vIFNldCB0YWdzdmlldyB0aXRsZQogICAgICB0aGlzLnNldFRhZ3NWaWV3VGl0bGUodGl0bGUpCiAgICAgIC8vIFNldCBwYWdlIHRpdGxlCiAgICAgIHRoaXMuc2V0UGFnZVRpdGxlKHRpdGxlKQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIFByb21pc2UucmVqZWN0KGVycikKICAgIH0KICB9CgogIHByaXZhdGUgY2hhbmdlUGFzc3dvcmRGb3JtOiBhbnkgPSB7CiAgICBwYXNzd29yZDogJycsCiAgICBuZXdQYXNzd29yZDogJycsCiAgICBjb25maXJtUGFzc3dvcmQ6ICcnCiAgfTsKCiAgcHJpdmF0ZSB2YWxpZGF0ZW5ld1Bhc3N3b3JkOmFueSA9IHRoaXMudmFsaWRhdGUKCiAgdmFsaWRhdGUocnVsZTogYW55LCB2YWx1ZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHsKICAgIGlmICh0aGlzLmNoYW5nZVBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZC5sZW5ndGggPiAxKSB7CiAgICAgIGlmICh0aGlzLmNoYW5nZVBhc3N3b3JkRm9ybS5uZXdQYXNzd29yZCAhPSB2YWx1ZSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignUGFzc3dvcmRzIGRvZXMgbm90IG1hdGNoJykpCiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGNhbGxiYWNrKCkKICAgIH0KICB9CgogIHByaXZhdGUgc2V0VGFnc1ZpZXdUaXRsZSh0aXRsZTogc3RyaW5nKSB7CiAgICBjb25zdCB0YWdWaWV3ID0gdGhpcy50ZW1wVGFnVmlldwogICAgaWYgKHRhZ1ZpZXcpIHsKICAgICAgdGFnVmlldy50aXRsZSA9IGAke3RpdGxlfS0ke3RoaXMucG9zdEZvcm0uaWR9YAogICAgICBUYWdzVmlld01vZHVsZS51cGRhdGVWaXNpdGVkVmlldyh0YWdWaWV3KQogICAgfQogIH0KCiAgcHJpdmF0ZSBzZXRQYWdlVGl0bGUodGl0bGU6IHN0cmluZykgewogICAgZG9jdW1lbnQudGl0bGUgPSBgJHt0aXRsZX0gLSAke3RoaXMucG9zdEZvcm0uaWR9YAogIH0KCiAgcHJpdmF0ZSB0b2dnbGVTaG93KCkgewogICAgdGhpcy5zaG93SW1hZ2VVcGxvYWQgPSAhdGhpcy5zaG93SW1hZ2VVcGxvYWQKICB9CgogIHByaXZhdGUgb25Dcm9wVXBsb2FkU3VjY2Vzcyhqc29uRGF0YTogYW55LCBmaWVsZDogc3RyaW5nKSB7CiAgICB0aGlzLnNob3dJbWFnZVVwbG9hZCA9IGZhbHNlCiAgICB0aGlzLmltYWdlID0ganNvbkRhdGEuZmlsZXNbZmllbGRdCiAgfQoKICBwcml2YXRlIG9uQ2xvc2UoKSB7CiAgICB0aGlzLnNob3dJbWFnZVVwbG9hZCA9IGZhbHNlCiAgfQoKICBwcml2YXRlIGNyb3BTdWNjZXNzKGltZ0RhdGFVcmw6IHN0cmluZywgZmllbGQ6IHN0cmluZykgewogICAgdGhpcy5pbWFnZSA9IGltZ0RhdGFVcmwKICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKQogICAgZmV0Y2goaW1nRGF0YVVybCkKICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmJsb2IoKSkKICAgICAgLnRoZW4oKGJsb2IpID0+IHsKICAgICAgICBjb25zdCBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCAnaW1nLicgKyBibG9iLnR5cGUuc3BsaXQoJy8nKVsxXSwgewogICAgICAgICAgdHlwZTogJ2ltYWdlL3BuZycKICAgICAgICB9KQogICAgICAgIGRhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSkKICAgICAgICB1cGxvYWRGaWxlKGRhdGEsIChldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpCiAgICAgICAgfSkudGhlbigocmVzOiBhbnkpID0+IHsKICAgICAgICAgIHRoaXMucG9zdEZvcm0uYXZhdGFyID0gcmVzCiAgICAgICAgfSkKICAgICAgfSkKICB9CgogIHByaXZhdGUgc3VibWl0KCkgewogICAgKHRoaXMuJHJlZnMucG9zdEZvcm0gYXMgRm9ybSkudmFsaWRhdGUodmFsaWQgPT4gewogICAgICBpZiAodmFsaWQpIHsKICAgICAgICB0aGlzLnNhdmVGb3JtKCkKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfSkKICB9CgogIEBBY3Rpb24KICBwdWJsaWMgYXN5bmMgc2F2ZUZvcm0oKSB7CiAgICB0cnkgewogICAgICB0aGlzLnBvc3RGb3JtLmFkbWluc1JvbGUuaWQgPSB0aGlzLnBvc3RGb3JtLmFkbWluc1JvbGVJZAogICAgICAvLyBkZWxldGUgdGhpcy5wb3N0Rm9ybS5wYXNzd29yZAoKICAgICAgYXdhaXQgdXBkYXRlQWRtaW4odGhpcy5wb3N0Rm9ybS5pZCwgdGhpcy5wb3N0Rm9ybSkKCiAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICBtZXNzYWdlOiAnQWRtaW4gc2F2ZWQgc3VjY2Vzc2Z1bGx5JywKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgfSkKICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgIH0KICB9CgogIHByaXZhdGUgYXN5bmMgY2hhbmdlUGFzc3dvcmQoKSB7CiAgICAodGhpcy4kcmVmcy5jaGFuZ2VQYXNzd29yZEZvcm0gYXMgRm9ybSkudmFsaWRhdGUoYXN5bmModmFsaWQ6IGJvb2xlYW4pID0+IHsKICAgICAgaWYgKHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkID09PSB0aGlzLmNoYW5nZVBhc3N3b3JkRm9ybS5jb25maXJtUGFzc3dvcmQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmRMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgY29uc3QgZGF0YTphbnkgPSB7CiAgICAgICAgICAgIG9sZFBhc3N3b3JkOiB0aGlzLmNoYW5nZVBhc3N3b3JkRm9ybS5wYXNzd29yZCwKICAgICAgICAgICAgbmV3UGFzc3dvcmQ6IHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkCiAgICAgICAgICB9CiAgICAgICAgICBjb25zdCByZXNwb25zZTphbnkgPSBhd2FpdCBVcGRhdGVQYXNzd29yZChkYXRhKS50aGVuKChyZXM6YW55KSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMucmVzcG9uc2VDb2RlID09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ3Bhc3N3b3JkIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5LicsCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmRMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgKHRoaXMuJHJlZnMuY2hhbmdlUGFzc3dvcmRGb3JtIGFzIEZvcm0pLnJlc2V0RmllbGRzKCkKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdJbmNvcnJlY3QgY3VycmVudCBwYXNzd29yZCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB0aGlzLmNoYW5nZVBhc3N3b3JkTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ1NvbWUgZXJyb3Igb2NjdXJlZCcpCiAgICAgICAgICB9KQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0VudGVyIGFsbCBkZXRhaWxzJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSkKICAgICAgICAgIHJldHVybiBmYWxzZQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBkb2VzblwndCBtYXRjaCcsCiAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgfSkKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfSkKICB9CgogICBwcml2YXRlIHJ1bGVzID0gewogICAgIGZ1bGxOYW1lOiBbCiAgICAgICB7CiAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGZ1bGwgbmFtZScsCiAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgfSwKICAgICAgIHsgbWluOiAzLCBtZXNzYWdlOiAnTGVuZ3RoIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMycsIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXSB9LAogICAgICAgewogICAgICAgICBwYXR0ZXJuOiAnW0EtWmEtel0rJCcsCiAgICAgICAgIG1lc3NhZ2U6ICdOYW1lIHNob3VsZCBjb250YWluIGNoYXJhY3RlcnMgb25seScsCiAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgfQogICAgIF0sCiAgICAgY29udGFjdE51bWJlcjogWwogICAgICAgewogICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBtb2JpbGUgbnVtYmVyJywKICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICB9LAogICAgICAgewogICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10sCiAgICAgICAgIHBhdHRlcm46ICdbMTIzNDU2Nzg5XVswLTldKiQnLAogICAgICAgICBtZXNzYWdlOiAnTW9iaWxlIG51bWJlciBzaG91bGQgY29udGFpbiBudW1iZXIgb25seScKICAgICAgIH0sCiAgICAgICB7CiAgICAgICAgIG1heDogMTAsCiAgICAgICAgIG1pbjogMTAsCiAgICAgICAgIG1lc3NhZ2U6ICdMZW5ndGggc2hvdWxkIGJlIG9mIDEwIERpZ2l0cycsCiAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgfQogICAgIF0sCiAgICAgZW1haWw6IFsKICAgICAgIHsKICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgIG1lc3NhZ2U6ICdwbGVhc2UgZW50ZXIgZS1tYWlsJywKICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICB9LAogICAgICAgewogICAgICAgICBtaW46IDEwLAogICAgICAgICBtYXg6IDUwLAogICAgICAgICBtZXNzYWdlOiAnTGVuZ3RoIHNob3VsZCBiZSBiZXR3ZWVuIDEwLTUwIGNoYXJhY3RlcnMnLAogICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgIH0sCiAgICAgICB7CiAgICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgY29ycmVjdCBlbWFpbCBhZGRyZXNzJywKICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICB9CiAgICAgXSwKICAgICBwYXNzd29yZDogWwogICAgICAgewogICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBwYXNzd29yZCcsCiAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgfQogICAgIF0sCiAgICAgZ2VuZGVyOiBbCiAgICAgICB7CiAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGdlbmRlcicsCiAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgfQogICAgIF0sCgogICAgIG5ld1Bhc3N3b3JkOiBbCiAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIG5ldyBwYXNzd29yZCcsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgXSwKICAgICBjb25maXJtUGFzc3dvcmQ6IFsKICAgICAgIHsKICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgY29uZmlybSBwYXNzd29yZCcsCiAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgfQogICAgICAgLy8geyB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVuZXdQYXNzd29yZCwgdHJpZ2dlcjogJ2JsdXInIH0KICAgICBdCiAgIH07Cn0K"},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";AA+JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\n  <el-form\n    ref=\"postForm\"\n    :model=\"postForm\"\n    :rules=\"rules\"\n  >\n    <el-form-item\n      label=\"Name\"\n      prop=\"fullName\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-input\n        v-model=\"postForm.fullName\"\n        name=\"fullName\"\n      />\n    </el-form-item>\n    <el-form-item\n      label=\"Email\"\n      prop=\"email\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-input\n        v-model=\"postForm.email\"\n        name=\"email\"\n        readonly=\"true\"\n      />\n    </el-form-item>\n    <el-form-item\n      label=\"Gender\"\n      prop=\"gender\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-select\n        v-model=\"postForm.gender\"\n        style=\"width:100%\"\n        name=\"gender\"\n        placeholder=\"Select\"\n      >\n        <el-option\n          v-for=\"item in genderList\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        />\n      </el-select>\n    </el-form-item>\n     <el-form-item label=\"Role\">\n      <el-input\n        v-model.trim=\"user.roles\"\n        readonly\n      />\n    </el-form-item> \n    <el-form-item\n      label=\"Avatar\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <br>\n      <pan-thumb\n        :image=\"postForm.avatar\"\n        style=\"height:100px;width:100px\"\n      /><br>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-upload\"\n        tyle=\"position: absolute;bottom: 15px;margin-left: 40px;\"\n        @click=\"toggleShow\"\n      >\n        Change Avatar\n      </el-button>\n      <avatar-upload\n        v-model=\"showImageUpload\"\n        field=\"avatar\"\n        @crop-success=\"cropSuccess\"\n        @close=\"onClose\"\n        @crop-upload-success=\"onCropUploadSuccess\"\n      />\n    </el-form-item>\n   \n    <el-form-item>\n      <el-button\n        type=\"primary\"\n        @click=\"submit\"\n      >\n        Update\n      </el-button>\n\n      <el-button\n        type=\"primary\"\n        @click=\"dialogFormVisible = true\"\n      >\n        Change Password\n      </el-button>\n      <el-dialog\n        title=\"Change Password\"\n        :visible.sync=\"dialogFormVisible\"\n      >\n        <el-form\n          ref=\"changePasswordForm\"\n          :model=\"changePasswordForm\"\n          :rules=\"rules\"\n        >\n          <el-form-item\n            label=\"Current Password\"\n            label-width=\"140px\"\n            style=\"margin-bottom: 20px\"\n            prop=\"password\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.password\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n          <el-form-item\n            id=\"newPassword\"\n            label=\"New Password\"\n            label-width=\"140px\"\n            prop=\"newPassword\"\n            style=\"margin-bottom: 20px\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.newPassword\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n          <el-form-item\n            label=\"Confirm Password\"\n            label-width=\"140px\"\n            prop=\"confirmPassword\"\n            style=\"margin-bottom: 20px\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.confirmPassword\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n        </el-form>\n        <span\n          slot=\"footer\"\n          class=\"dialog-footer\"\n        >\n          <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n          <el-button\n            v-loading=\"changePasswordLoading\"\n            type=\"primary\"\n            @click=\"changePassword()\"\n          >Confirm</el-button>\n        </span>\n      </el-dialog>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script lang=\"ts\">\nimport { uploadFile } from '@/api/common'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { IProfile } from '../index.vue'\nimport {\n  getAdminById,\n  defaultAdminData,\n  updateAdmin,\n  UpdatePassword,\n  register\n} from '@/api/admins'\nimport { TagsViewModule, ITagView } from '@/store/modules/tags-view'\nimport { Action } from 'vuex-module-decorators'\nimport { Form } from 'element-ui'\nimport router from '@/router'\nimport AvatarUpload from '@/components/AvatarUpload/index.vue'\nimport PanThumb from '@/components/PanThumb/index.vue'\nimport { AdminModule } from '@/store/modules/admin'\n\n@Component({\n  name: 'Account',\n  components: {\n    AvatarUpload,\n    PanThumb\n  }\n})\nexport default class extends Vue {\n  @Prop({ required: true }) private user!: IProfile\n   private image = this.user.avatar ? this.user.avatar : 'https://stumpz.s3.ap-south-1.amazonaws.com/1611434872392-img.png'\n  private showImageUpload = false\n  private dialogFormVisible = false;\n  private changePasswordLoading = false;\n  private tempTagView?: ITagView;\n  private postForm = Object.assign({}, defaultAdminData);\n  private loading = false;\n  private genderList = [\n    { label: 'Female', value: 'Female' },\n    { label: 'Male', value: 'Male' },\n    { label: 'Others', value: 'Others' }\n  ];\n\n  created() {\n    this.fetchData(AdminModule.id)\n  }\n\n  private async fetchData(id: number) {\n    try {\n      const data: any = await getAdminById(id)\n      this.postForm = data\n      this.image = data.avatar\n\n      // Just for test\n      const title = this.postForm.email\n      // Set tagsview title\n      this.setTagsViewTitle(title)\n      // Set page title\n      this.setPageTitle(title)\n    } catch (err) {\n      Promise.reject(err)\n    }\n  }\n\n  private changePasswordForm: any = {\n    password: '',\n    newPassword: '',\n    confirmPassword: ''\n  };\n\n  private validatenewPassword:any = this.validate\n\n  validate(rule: any, value: string, callback: Function) {\n    if (this.changePasswordForm.newPassword.length > 1) {\n      if (this.changePasswordForm.newPassword != value) {\n        callback(new Error('Passwords does not match'))\n      }\n    } else {\n      callback()\n    }\n  }\n\n  private setTagsViewTitle(title: string) {\n    const tagView = this.tempTagView\n    if (tagView) {\n      tagView.title = `${title}-${this.postForm.id}`\n      TagsViewModule.updateVisitedView(tagView)\n    }\n  }\n\n  private setPageTitle(title: string) {\n    document.title = `${title} - ${this.postForm.id}`\n  }\n\n  private toggleShow() {\n    this.showImageUpload = !this.showImageUpload\n  }\n\n  private onCropUploadSuccess(jsonData: any, field: string) {\n    this.showImageUpload = false\n    this.image = jsonData.files[field]\n  }\n\n  private onClose() {\n    this.showImageUpload = false\n  }\n\n  private cropSuccess(imgDataUrl: string, field: string) {\n    this.image = imgDataUrl\n    const data = new FormData()\n    fetch(imgDataUrl)\n      .then((res) => res.blob())\n      .then((blob) => {\n        const file = new File([blob], 'img.' + blob.type.split('/')[1], {\n          type: 'image/png'\n        })\n        data.append('file', file)\n        uploadFile(data, (event: ProgressEvent) => {\n          console.log(event)\n        }).then((res: any) => {\n          this.postForm.avatar = res\n        })\n      })\n  }\n\n  private submit() {\n    (this.$refs.postForm as Form).validate(valid => {\n      if (valid) {\n        this.saveForm()\n      } else {\n        return false\n      }\n    })\n  }\n\n  @Action\n  public async saveForm() {\n    try {\n      this.postForm.adminsRole.id = this.postForm.adminsRoleId\n      // delete this.postForm.password\n\n      await updateAdmin(this.postForm.id, this.postForm)\n\n      this.$notify({\n        title: 'Success',\n        message: 'Admin saved successfully',\n        type: 'success',\n        duration: 2000\n      })\n      window.location.reload()\n    } catch (err) {\n      this.loading = false\n    }\n  }\n\n  private async changePassword() {\n    (this.$refs.changePasswordForm as Form).validate(async(valid: boolean) => {\n      if (this.changePasswordForm.newPassword === this.changePasswordForm.confirmPassword) {\n        if (valid) {\n          this.changePasswordLoading = true\n          const data:any = {\n            oldPassword: this.changePasswordForm.password,\n            newPassword: this.changePasswordForm.newPassword\n          }\n          const response:any = await UpdatePassword(data).then((res:any) => {\n            if (res.responseCode == 200) {\n              this.$message({\n                message: 'password changed successfully.',\n                type: 'success'\n              })\n              this.changePasswordLoading = false\n              this.dialogFormVisible = false;\n              (this.$refs.changePasswordForm as Form).resetFields()\n            } else {\n              this.$message({\n                message: 'Incorrect current password',\n                type: 'error'\n              })\n              this.changePasswordLoading = false\n            }\n          }).catch(res => {\n            this.$message.error('Some error occured')\n          })\n        } else {\n          this.$message({\n            message: 'Enter all details',\n            type: 'error'\n          })\n          return false\n        }\n      } else {\n        this.$message({\n          message: 'Password doesn\\'t match',\n          type: 'error'\n        })\n        return false\n      }\n    })\n  }\n\n   private rules = {\n     fullName: [\n       {\n         required: true,\n         message: 'Please enter full name',\n         trigger: ['blur', 'change']\n       },\n       { min: 3, message: 'Length should be greater than 3', trigger: ['blur', 'change'] },\n       {\n         pattern: '[A-Za-z]+$',\n         message: 'Name should contain characters only',\n         trigger: ['blur', 'change']\n       }\n     ],\n     contactNumber: [\n       {\n         required: true,\n         message: 'Please enter mobile number',\n         trigger: 'blur'\n       },\n       {\n         trigger: ['blur', 'change'],\n         pattern: '[123456789][0-9]*$',\n         message: 'Mobile number should contain number only'\n       },\n       {\n         max: 10,\n         min: 10,\n         message: 'Length should be of 10 Digits',\n         trigger: ['blur', 'change']\n       }\n     ],\n     email: [\n       {\n         required: true,\n         message: 'please enter e-mail',\n         trigger: 'blur'\n       },\n       {\n         min: 10,\n         max: 50,\n         message: 'Length should be between 10-50 characters',\n         trigger: ['blur', 'change']\n       },\n       {\n         type: 'email',\n         message: 'Please enter correct email address',\n         trigger: ['blur', 'change']\n       }\n     ],\n     password: [\n       {\n         required: true,\n         message: 'Please enter password',\n         trigger: 'blur'\n       }\n     ],\n     gender: [\n       {\n         required: true,\n         message: 'Please enter gender',\n         trigger: ['blur', 'change']\n       }\n     ],\n\n     newPassword: [\n       { required: true, message: 'Please enter new password', trigger: 'blur' }\n     ],\n     confirmPassword: [\n       {\n         required: true,\n         message: 'Please enter confirm password',\n         trigger: 'blur'\n       }\n       // { validator: this.validatenewPassword, trigger: 'blur' }\n     ]\n   };\n}\n</script>\n"]}]}