{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/profile/components/Account.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/profile/components/Account.vue","mtime":1673444274613},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IHVwbG9hZEZpbGUgfSBmcm9tICdAL2FwaS9jb21tb24nCmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgSVByb2ZpbGUgfSBmcm9tICcuLi9pbmRleC52dWUnCmltcG9ydCB7CiAgZ2V0QWRtaW5CeUlkLAogIGRlZmF1bHRBZG1pbkRhdGEsCiAgdXBkYXRlQWRtaW4sCiAgVXBkYXRlUGFzc3dvcmQsCiAgcmVnaXN0ZXIKfSBmcm9tICdAL2FwaS9hZG1pbnMnCmltcG9ydCB7IFRhZ3NWaWV3TW9kdWxlLCBJVGFnVmlldyB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy90YWdzLXZpZXcnCmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJ3Z1ZXgtbW9kdWxlLWRlY29yYXRvcnMnCmltcG9ydCB7IEZvcm0gfSBmcm9tICdlbGVtZW50LXVpJwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJwppbXBvcnQgQXZhdGFyVXBsb2FkIGZyb20gJ0AvY29tcG9uZW50cy9BdmF0YXJVcGxvYWQvaW5kZXgudnVlJwppbXBvcnQgUGFuVGh1bWIgZnJvbSAnQC9jb21wb25lbnRzL1BhblRodW1iL2luZGV4LnZ1ZScKaW1wb3J0IHsgQWRtaW5Nb2R1bGUgfSBmcm9tICdAL3N0b3JlL21vZHVsZXMvYWRtaW4nCgpAQ29tcG9uZW50KHsKICBuYW1lOiAnQWNjb3VudCcsCiAgY29tcG9uZW50czogewogICAgQXZhdGFyVXBsb2FkLAogICAgUGFuVGh1bWIKICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgVnVlIHsKICBAUHJvcCh7IHJlcXVpcmVkOiB0cnVlIH0pIHByaXZhdGUgdXNlciE6IElQcm9maWxlCiAgIHByaXZhdGUgaW1hZ2UgPSB0aGlzLnVzZXIuYXZhdGFyID8gdGhpcy51c2VyLmF2YXRhciA6ICdodHRwczovL3N0dW1wei5zMy5hcC1zb3V0aC0xLmFtYXpvbmF3cy5jb20vMTYxMTQzNDg3MjM5Mi1pbWcucG5nJwogIHByaXZhdGUgc2hvd0ltYWdlVXBsb2FkID0gZmFsc2UKICBwcml2YXRlIGRpYWxvZ0Zvcm1WaXNpYmxlID0gZmFsc2U7CiAgcHJpdmF0ZSBjaGFuZ2VQYXNzd29yZExvYWRpbmcgPSBmYWxzZTsKICBwcml2YXRlIHRlbXBUYWdWaWV3PzogSVRhZ1ZpZXc7CiAgcHJpdmF0ZSBwb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRBZG1pbkRhdGEpOwogIHByaXZhdGUgbG9hZGluZyA9IGZhbHNlOwogIHByaXZhdGUgZ2VuZGVyTGlzdCA9IFsKICAgIHsgbGFiZWw6ICdGZW1hbGUnLCB2YWx1ZTogMCB9LAogICAgeyBsYWJlbDogJ01hbGUnLCB2YWx1ZTogMSB9LAogICAgeyBsYWJlbDogJ090aGVycycsIHZhbHVlOiAyIH0KICBdOwoKICBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaERhdGEoQWRtaW5Nb2R1bGUuaWQpCiAgfQoKICBwcml2YXRlIGFzeW5jIGZldGNoRGF0YShpZDogbnVtYmVyKSB7CiAgICB0cnkgewogICAgICBjb25zdCBkYXRhOiBhbnkgPSBhd2FpdCBnZXRBZG1pbkJ5SWQoaWQpCiAgICAgIHRoaXMucG9zdEZvcm0gPSBkYXRhCiAgICAgIHRoaXMuaW1hZ2UgPSBkYXRhLmF2YXRhcgoKICAgICAgLy8gSnVzdCBmb3IgdGVzdAogICAgICBjb25zdCB0aXRsZSA9IHRoaXMucG9zdEZvcm0uZW1haWwKICAgICAgLy8gU2V0IHRhZ3N2aWV3IHRpdGxlCiAgICAgIHRoaXMuc2V0VGFnc1ZpZXdUaXRsZSh0aXRsZSkKICAgICAgLy8gU2V0IHBhZ2UgdGl0bGUKICAgICAgdGhpcy5zZXRQYWdlVGl0bGUodGl0bGUpCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgUHJvbWlzZS5yZWplY3QoZXJyKQogICAgfQogIH0KCiAgcHJpdmF0ZSBjaGFuZ2VQYXNzd29yZEZvcm06IGFueSA9IHsKICAgIHBhc3N3b3JkOiAnJywKICAgIG5ld1Bhc3N3b3JkOiAnJywKICAgIGNvbmZpcm1QYXNzd29yZDogJycKICB9OwoKICBwcml2YXRlIHZhbGlkYXRlbmV3UGFzc3dvcmQ6YW55ID0gdGhpcy52YWxpZGF0ZQoKICB2YWxpZGF0ZShydWxlOiBhbnksIHZhbHVlOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbikgewogICAgaWYgKHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkLmxlbmd0aCA+IDEpIHsKICAgICAgaWYgKHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLm5ld1Bhc3N3b3JkICE9IHZhbHVlKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdQYXNzd29yZHMgZG9lcyBub3QgbWF0Y2gnKSkKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgY2FsbGJhY2soKQogICAgfQogIH0KCiAgcHJpdmF0ZSBzZXRUYWdzVmlld1RpdGxlKHRpdGxlOiBzdHJpbmcpIHsKICAgIGNvbnN0IHRhZ1ZpZXcgPSB0aGlzLnRlbXBUYWdWaWV3CiAgICBpZiAodGFnVmlldykgewogICAgICB0YWdWaWV3LnRpdGxlID0gYCR7dGl0bGV9LSR7dGhpcy5wb3N0Rm9ybS5pZH1gCiAgICAgIFRhZ3NWaWV3TW9kdWxlLnVwZGF0ZVZpc2l0ZWRWaWV3KHRhZ1ZpZXcpCiAgICB9CiAgfQoKICBwcml2YXRlIHNldFBhZ2VUaXRsZSh0aXRsZTogc3RyaW5nKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IGAke3RpdGxlfSAtICR7dGhpcy5wb3N0Rm9ybS5pZH1gCiAgfQoKICBwcml2YXRlIHRvZ2dsZVNob3coKSB7CiAgICB0aGlzLnNob3dJbWFnZVVwbG9hZCA9ICF0aGlzLnNob3dJbWFnZVVwbG9hZAogIH0KCiAgcHJpdmF0ZSBvbkNyb3BVcGxvYWRTdWNjZXNzKGpzb25EYXRhOiBhbnksIGZpZWxkOiBzdHJpbmcpIHsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gZmFsc2UKICAgIHRoaXMuaW1hZ2UgPSBqc29uRGF0YS5maWxlc1tmaWVsZF0KICB9CgogIHByaXZhdGUgb25DbG9zZSgpIHsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gZmFsc2UKICB9CgogIHByaXZhdGUgY3JvcFN1Y2Nlc3MoaW1nRGF0YVVybDogc3RyaW5nLCBmaWVsZDogc3RyaW5nKSB7CiAgICB0aGlzLmltYWdlID0gaW1nRGF0YVVybAogICAgY29uc3QgZGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICBmZXRjaChpbWdEYXRhVXJsKQogICAgICAudGhlbigocmVzKSA9PiByZXMuYmxvYigpKQogICAgICAudGhlbigoYmxvYikgPT4gewogICAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sICdpbWcuJyArIGJsb2IudHlwZS5zcGxpdCgnLycpWzFdLCB7CiAgICAgICAgICB0eXBlOiAnaW1hZ2UvcG5nJwogICAgICAgIH0pCiAgICAgICAgZGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlKQogICAgICAgIHVwbG9hZEZpbGUoZGF0YSwgKGV2ZW50OiBQcm9ncmVzc0V2ZW50KSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCkKICAgICAgICB9KS50aGVuKChyZXM6IGFueSkgPT4gewogICAgICAgICAgdGhpcy5wb3N0Rm9ybS5hdmF0YXIgPSByZXMKICAgICAgICB9KQogICAgICB9KQogIH0KCiAgcHJpdmF0ZSBzdWJtaXQoKSB7CiAgICAodGhpcy4kcmVmcy5wb3N0Rm9ybSBhcyBGb3JtKS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgIGlmICh2YWxpZCkgewogICAgICAgIHRoaXMuc2F2ZUZvcm0oKQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9KQogIH0KCiAgQEFjdGlvbgogIHB1YmxpYyBhc3luYyBzYXZlRm9ybSgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMucG9zdEZvcm0uYWRtaW5zUm9sZS5pZCA9IHRoaXMucG9zdEZvcm0uYWRtaW5zUm9sZUlkCiAgICAgIC8vIGRlbGV0ZSB0aGlzLnBvc3RGb3JtLnBhc3N3b3JkCgogICAgICBhd2FpdCB1cGRhdGVBZG1pbih0aGlzLnBvc3RGb3JtLmlkLCB0aGlzLnBvc3RGb3JtKQoKICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICB0aXRsZTogJ1N1Y2Nlc3MnLAogICAgICAgIG1lc3NhZ2U6ICdBZG1pbiBzYXZlZCBzdWNjZXNzZnVsbHknLAogICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICB9KQogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCkKICAgIH0gY2F0Y2ggKGVycikgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfQogIH0KCiAgcHJpdmF0ZSBhc3luYyBjaGFuZ2VQYXNzd29yZCgpIHsKICAgICh0aGlzLiRyZWZzLmNoYW5nZVBhc3N3b3JkRm9ybSBhcyBGb3JtKS52YWxpZGF0ZShhc3luYyh2YWxpZDogYm9vbGVhbikgPT4gewogICAgICBpZiAodGhpcy5jaGFuZ2VQYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQgPT09IHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLmNvbmZpcm1QYXNzd29yZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZExvYWRpbmcgPSB0cnVlCiAgICAgICAgICBjb25zdCBkYXRhOmFueSA9IHsKICAgICAgICAgICAgb2xkUGFzc3dvcmQ6IHRoaXMuY2hhbmdlUGFzc3dvcmRGb3JtLnBhc3N3b3JkLAogICAgICAgICAgICBuZXdQYXNzd29yZDogdGhpcy5jaGFuZ2VQYXNzd29yZEZvcm0ubmV3UGFzc3dvcmQKICAgICAgICAgIH0KICAgICAgICAgIGNvbnN0IHJlc3BvbnNlOmFueSA9IGF3YWl0IFVwZGF0ZVBhc3N3b3JkKGRhdGEpLnRoZW4oKHJlczphbnkpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5yZXNwb25zZUNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAncGFzc3dvcmQgY2hhbmdlZCBzdWNjZXNzZnVsbHkuJywKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VQYXNzd29yZExvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICAodGhpcy4kcmVmcy5jaGFuZ2VQYXNzd29yZEZvcm0gYXMgRm9ybSkucmVzZXRGaWVsZHMoKQogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogJ0luY29ycmVjdCBjdXJyZW50IHBhc3N3b3JkJywKICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIHRoaXMuY2hhbmdlUGFzc3dvcmRMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignU29tZSBlcnJvciBvY2N1cmVkJykKICAgICAgICAgIH0pCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiAnRW50ZXIgYWxsIGRldGFpbHMnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KQogICAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ1Bhc3N3b3JkIGRvZXNuXCd0IG1hdGNoJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KQogICAgICAgIHJldHVybiBmYWxzZQogICAgICB9CiAgICB9KQogIH0KCiAgIHByaXZhdGUgcnVsZXMgPSB7CiAgICAgZnVsbE5hbWU6IFsKICAgICAgIHsKICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgZnVsbCBuYW1lJywKICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICB9LAogICAgICAgeyBtaW46IDMsIG1lc3NhZ2U6ICdMZW5ndGggc2hvdWxkIGJlIGdyZWF0ZXIgdGhhbiAzJywgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddIH0sCiAgICAgICB7CiAgICAgICAgLy8gIHBhdHRlcm46ICdbQS1aYS16XSskJywKICAgICAgICAgcGF0dGVybjogJ1tBLVphLXpdKyQnLAogICAgICAgICBtZXNzYWdlOiAnTmFtZSBzaG91bGQgY29udGFpbiBjaGFyYWN0ZXJzIG9ubHknLAogICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgIH0KICAgICBdLAogICAgIGNvbnRhY3ROdW1iZXI6IFsKICAgICAgIHsKICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgbW9iaWxlIG51bWJlcicsCiAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgfSwKICAgICAgIHsKICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddLAogICAgICAgICBwYXR0ZXJuOiAnWzEyMzQ1Njc4OV1bMC05XSokJywKICAgICAgICAgbWVzc2FnZTogJ01vYmlsZSBudW1iZXIgc2hvdWxkIGNvbnRhaW4gbnVtYmVyIG9ubHknCiAgICAgICB9LAogICAgICAgewogICAgICAgICBtYXg6IDEwLAogICAgICAgICBtaW46IDEwLAogICAgICAgICBtZXNzYWdlOiAnTGVuZ3RoIHNob3VsZCBiZSBvZiAxMCBEaWdpdHMnLAogICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgIH0KICAgICBdLAogICAgIGVtYWlsOiBbCiAgICAgICB7CiAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICBtZXNzYWdlOiAncGxlYXNlIGVudGVyIGUtbWFpbCcsCiAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgfSwKICAgICAgIHsKICAgICAgICAgbWluOiAxMCwKICAgICAgICAgbWF4OiA1MCwKICAgICAgICAgbWVzc2FnZTogJ0xlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxMC01MCBjaGFyYWN0ZXJzJywKICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICB9LAogICAgICAgewogICAgICAgICB0eXBlOiAnZW1haWwnLAogICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGNvcnJlY3QgZW1haWwgYWRkcmVzcycsCiAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgfQogICAgIF0sCiAgICAgcGFzc3dvcmQ6IFsKICAgICAgIHsKICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgcGFzc3dvcmQnLAogICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgIH0KICAgICBdLAogICAgIGdlbmRlcjogWwogICAgICAgewogICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBnZW5kZXInLAogICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgIH0KICAgICBdLAoKICAgICBuZXdQYXNzd29yZDogWwogICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBuZXcgcGFzc3dvcmQnLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgIF0sCiAgICAgY29uZmlybVBhc3N3b3JkOiBbCiAgICAgICB7CiAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGNvbmZpcm0gcGFzc3dvcmQnLAogICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgIH0KICAgICAgIC8vIHsgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlbmV3UGFzc3dvcmQsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgXQogICB9Owp9Cg=="},{"version":3,"sources":["Account.vue"],"names":[],"mappings":";AAiKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Account.vue","sourceRoot":"src/views/profile/components","sourcesContent":["<template>\n  <el-form\n    ref=\"postForm\"\n    :model=\"postForm\"\n    :rules=\"rules\"\n  >\n    <el-form-item\n      label=\"Fullname\"\n      prop=\"fullName\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-input\n        v-model=\"postForm.fullName\"\n        name=\"fullName\"\n      />\n    </el-form-item>\n    <el-form-item\n      label=\"Email\"\n      prop=\"email\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-input\n        v-model=\"postForm.email\"\n        name=\"email\"\n        readonly=\"true\"\n        :disabled=\"true\"\n      />\n    </el-form-item>\n    <el-form-item\n      label=\"Gender\"\n      prop=\"gender\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <el-select\n        v-model=\"postForm.gender\"\n        style=\"width:100%\"\n        name=\"gender\"\n        placeholder=\"Select\"\n      >\n        <el-option\n          v-for=\"item in genderList\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        />\n      </el-select>\n    </el-form-item>\n     <el-form-item label=\"Role\">\n      <el-input\n        v-model.trim=\"user.roles\"\n        readonly\n        :disabled=\"true\"\n      />\n    </el-form-item> \n    <el-form-item\n      label=\"Avatar\"\n      style=\"margin-bottom: 20px;\"\n    >\n      <br>\n      <pan-thumb\n        :image=\"postForm.avatar\"\n        style=\"height:100px;width:100px\"\n      /><br>\n      <el-button\n        type=\"primary\"\n        icon=\"el-icon-upload\"\n        tyle=\"position: absolute;bottom: 15px;margin-left: 40px;\"\n        @click=\"toggleShow\"\n      >\n        Change Avatar\n      </el-button>\n      <avatar-upload\n        v-model=\"showImageUpload\"\n        field=\"avatar\"\n        @crop-success=\"cropSuccess\"\n        @close=\"onClose\"\n        @crop-upload-success=\"onCropUploadSuccess\"\n      />\n    </el-form-item>\n   \n    <el-form-item>\n      <el-button\n        type=\"primary\"\n        @click=\"submit\"\n      >\n        Update\n      </el-button>\n\n      <el-button\n        type=\"primary\"\n        @click=\"dialogFormVisible = true\"\n      >\n        Change Password\n      </el-button>\n      <el-dialog\n        title=\"Change Password\"\n        :visible.sync=\"dialogFormVisible\"\n      >\n        <el-form\n          ref=\"changePasswordForm\"\n          :model=\"changePasswordForm\"\n          :rules=\"rules\"\n        >\n          <el-form-item\n            label=\"Current Password\"\n            label-width=\"140px\"\n            style=\"margin-bottom: 20px\"\n            prop=\"password\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.password\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n          <el-form-item\n            id=\"newPassword\"\n            label=\"New Password\"\n            label-width=\"140px\"\n            prop=\"newPassword\"\n            style=\"margin-bottom: 20px\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.newPassword\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n          <el-form-item\n            label=\"Confirm Password\"\n            label-width=\"140px\"\n            prop=\"confirmPassword\"\n            style=\"margin-bottom: 20px\"\n          >\n            <el-input\n              v-model=\"changePasswordForm.confirmPassword\"\n              type=\"password\"\n              autocomplete=\"off\"\n              show-password\n            />\n          </el-form-item>\n        </el-form>\n        <span\n          slot=\"footer\"\n          class=\"dialog-footer\"\n        >\n          <el-button @click=\"dialogFormVisible = false\">Cancel</el-button>\n          <el-button\n            v-loading=\"changePasswordLoading\"\n            type=\"primary\"\n            @click=\"changePassword()\"\n          >Confirm</el-button>\n        </span>\n      </el-dialog>\n    </el-form-item>\n  </el-form>\n</template>\n\n<script lang=\"ts\">\nimport { uploadFile } from '@/api/common'\nimport { Component, Prop, Vue } from 'vue-property-decorator'\nimport { IProfile } from '../index.vue'\nimport {\n  getAdminById,\n  defaultAdminData,\n  updateAdmin,\n  UpdatePassword,\n  register\n} from '@/api/admins'\nimport { TagsViewModule, ITagView } from '@/store/modules/tags-view'\nimport { Action } from 'vuex-module-decorators'\nimport { Form } from 'element-ui'\nimport router from '@/router'\nimport AvatarUpload from '@/components/AvatarUpload/index.vue'\nimport PanThumb from '@/components/PanThumb/index.vue'\nimport { AdminModule } from '@/store/modules/admin'\n\n@Component({\n  name: 'Account',\n  components: {\n    AvatarUpload,\n    PanThumb\n  }\n})\nexport default class extends Vue {\n  @Prop({ required: true }) private user!: IProfile\n   private image = this.user.avatar ? this.user.avatar : 'https://stumpz.s3.ap-south-1.amazonaws.com/1611434872392-img.png'\n  private showImageUpload = false\n  private dialogFormVisible = false;\n  private changePasswordLoading = false;\n  private tempTagView?: ITagView;\n  private postForm = Object.assign({}, defaultAdminData);\n  private loading = false;\n  private genderList = [\n    { label: 'Female', value: 0 },\n    { label: 'Male', value: 1 },\n    { label: 'Others', value: 2 }\n  ];\n\n  created() {\n    this.fetchData(AdminModule.id)\n  }\n\n  private async fetchData(id: number) {\n    try {\n      const data: any = await getAdminById(id)\n      this.postForm = data\n      this.image = data.avatar\n\n      // Just for test\n      const title = this.postForm.email\n      // Set tagsview title\n      this.setTagsViewTitle(title)\n      // Set page title\n      this.setPageTitle(title)\n    } catch (err) {\n      Promise.reject(err)\n    }\n  }\n\n  private changePasswordForm: any = {\n    password: '',\n    newPassword: '',\n    confirmPassword: ''\n  };\n\n  private validatenewPassword:any = this.validate\n\n  validate(rule: any, value: string, callback: Function) {\n    if (this.changePasswordForm.newPassword.length > 1) {\n      if (this.changePasswordForm.newPassword != value) {\n        callback(new Error('Passwords does not match'))\n      }\n    } else {\n      callback()\n    }\n  }\n\n  private setTagsViewTitle(title: string) {\n    const tagView = this.tempTagView\n    if (tagView) {\n      tagView.title = `${title}-${this.postForm.id}`\n      TagsViewModule.updateVisitedView(tagView)\n    }\n  }\n\n  private setPageTitle(title: string) {\n    document.title = `${title} - ${this.postForm.id}`\n  }\n\n  private toggleShow() {\n    this.showImageUpload = !this.showImageUpload\n  }\n\n  private onCropUploadSuccess(jsonData: any, field: string) {\n    this.showImageUpload = false\n    this.image = jsonData.files[field]\n  }\n\n  private onClose() {\n    this.showImageUpload = false\n  }\n\n  private cropSuccess(imgDataUrl: string, field: string) {\n    this.image = imgDataUrl\n    const data = new FormData()\n    fetch(imgDataUrl)\n      .then((res) => res.blob())\n      .then((blob) => {\n        const file = new File([blob], 'img.' + blob.type.split('/')[1], {\n          type: 'image/png'\n        })\n        data.append('file', file)\n        uploadFile(data, (event: ProgressEvent) => {\n          console.log(event)\n        }).then((res: any) => {\n          this.postForm.avatar = res\n        })\n      })\n  }\n\n  private submit() {\n    (this.$refs.postForm as Form).validate(valid => {\n      if (valid) {\n        this.saveForm()\n      } else {\n        return false\n      }\n    })\n  }\n\n  @Action\n  public async saveForm() {\n    try {\n      this.postForm.adminsRole.id = this.postForm.adminsRoleId\n      // delete this.postForm.password\n\n      await updateAdmin(this.postForm.id, this.postForm)\n\n      this.$notify({\n        title: 'Success',\n        message: 'Admin saved successfully',\n        type: 'success',\n        duration: 2000\n      })\n      window.location.reload()\n    } catch (err) {\n      this.loading = false\n    }\n  }\n\n  private async changePassword() {\n    (this.$refs.changePasswordForm as Form).validate(async(valid: boolean) => {\n      if (this.changePasswordForm.newPassword === this.changePasswordForm.confirmPassword) {\n        if (valid) {\n          this.changePasswordLoading = true\n          const data:any = {\n            oldPassword: this.changePasswordForm.password,\n            newPassword: this.changePasswordForm.newPassword\n          }\n          const response:any = await UpdatePassword(data).then((res:any) => {\n            if (res.responseCode == 200) {\n              this.$message({\n                message: 'password changed successfully.',\n                type: 'success'\n              })\n              this.changePasswordLoading = false\n              this.dialogFormVisible = false;\n              (this.$refs.changePasswordForm as Form).resetFields()\n            } else {\n              this.$message({\n                message: 'Incorrect current password',\n                type: 'error'\n              })\n              this.changePasswordLoading = false\n            }\n          }).catch(res => {\n            this.$message.error('Some error occured')\n          })\n        } else {\n          this.$message({\n            message: 'Enter all details',\n            type: 'error'\n          })\n          return false\n        }\n      } else {\n        this.$message({\n          message: 'Password doesn\\'t match',\n          type: 'error'\n        })\n        return false\n      }\n    })\n  }\n\n   private rules = {\n     fullName: [\n       {\n         required: true,\n         message: 'Please enter full name',\n         trigger: ['blur', 'change']\n       },\n       { min: 3, message: 'Length should be greater than 3', trigger: ['blur', 'change'] },\n       {\n        //  pattern: '[A-Za-z]+$',\n         pattern: '[A-Za-z]+$',\n         message: 'Name should contain characters only',\n         trigger: ['blur', 'change']\n       }\n     ],\n     contactNumber: [\n       {\n         required: true,\n         message: 'Please enter mobile number',\n         trigger: 'blur'\n       },\n       {\n         trigger: ['blur', 'change'],\n         pattern: '[123456789][0-9]*$',\n         message: 'Mobile number should contain number only'\n       },\n       {\n         max: 10,\n         min: 10,\n         message: 'Length should be of 10 Digits',\n         trigger: ['blur', 'change']\n       }\n     ],\n     email: [\n       {\n         required: true,\n         message: 'please enter e-mail',\n         trigger: 'blur'\n       },\n       {\n         min: 10,\n         max: 50,\n         message: 'Length should be between 10-50 characters',\n         trigger: ['blur', 'change']\n       },\n       {\n         type: 'email',\n         message: 'Please enter correct email address',\n         trigger: ['blur', 'change']\n       }\n     ],\n     password: [\n       {\n         required: true,\n         message: 'Please enter password',\n         trigger: 'blur'\n       }\n     ],\n     gender: [\n       {\n         required: true,\n         message: 'Please enter gender',\n         trigger: ['blur', 'change']\n       }\n     ],\n\n     newPassword: [\n       { required: true, message: 'Please enter new password', trigger: 'blur' }\n     ],\n     confirmPassword: [\n       {\n         required: true,\n         message: 'Please enter confirm password',\n         trigger: 'blur'\n       }\n       // { validator: this.validatenewPassword, trigger: 'blur' }\n     ]\n   };\n}\n</script>\n"]}]}