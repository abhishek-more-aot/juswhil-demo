{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ValueSelect.vue?vue&type=style&index=0&id=75a5efee&lang=scss&scoped=true&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ValueSelect.vue","mtime":1672064999295},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/css-loader/dist/cjs.js","mtime":1653481241427},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1668596436320},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/postcss-loader/src/index.js","mtime":1655274298318},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/sass-loader/dist/cjs.js","mtime":1655274300161},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/style-resources-loader/lib/index.js","mtime":1655274300173},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5lZGl0LWlucHV0IHsKICBwYWRkaW5nLXJpZ2h0OiAxMDBweDsKfQoKLmNhbmNlbC1idG4gewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICByaWdodDogMTVweDsKICB0b3A6IDEwcHg7Cn0K"},{"version":3,"sources":["ValueSelect.vue"],"names":[],"mappings":";AAiVA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ValueSelect.vue","sourceRoot":"src/views/product/components","sourcesContent":["<template>\n  <div class=\"form-block\">\n    <div class=\"source\">\n      <el-form\n        ref=\"postForm\"\n        :model=\"postForm\"\n        :rules=\"rules\"\n        label-width=\"160px\"\n        class=\"demo-form\"\n        label-position=\"left\"\n      >\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Enabled\"\n          prop=\"enabled\"\n        >\n          <el-switch v-model=\"postForm.enabled\" />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Values\"\n          prop=\"optionValueId\"\n          v-if=\"!this.isEdit\"\n        >\n          <el-select\n            v-model=\"postForm.optionValueId\"\n            name=\"optionIds\"\n            style=\"width: 50%\"\n            placeholder=\"Select\"\n            filterable=\"true\"\n            clearable=\"true\"\n            class=\"filter-item\"\n          >\n            <el-option\n              v-for=\"item in optionValuesList\"\n              :key=\"item.id\"\n              :label=\"item.name\"\n              :value=\"item.id\"\n            /> </el-select\n        ></el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"CNF Price\"\n          prop=\"cnfPrice\"\n        >\n          <el-input\n            v-model=\"postForm.cnfPrice\"\n            name=\"cnfPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"CNF Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"Super Stockist Price\"\n          prop=\"superStockistPrice\"\n        >\n          <el-input\n            v-model=\"postForm.superStockistPrice\"\n            name=\"superStockistPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"Super Stockist Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"CD Price\"\n          prop=\"cdPrice\"\n        >\n          <el-input\n            v-model=\"postForm.cdPrice\"\n            name=\"cdPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"CD Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"SD Price\"\n          prop=\"sdPrice\"\n        >\n          <el-input\n            v-model=\"postForm.sdPrice\"\n            name=\"sdPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"SD Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"COP Price\"\n          prop=\"copPrice\"\n        >\n          <el-input\n            v-model=\"postForm.copPrice\"\n            name=\"copPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"COP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"SOP Price\"\n          prop=\"sopPrice\"\n        >\n          <el-input\n            v-model=\"postForm.sopPrice\"\n            name=\"sopPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"SOP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"MRP Price\"\n          prop=\"mrpPrice\"\n        >\n          <el-input\n            v-model=\"postForm.mrpPrice\"\n            name=\"mrpPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"MRP Price\"\n          />\n        </el-form-item>\n\n        <el-form-item\n          style=\"margin-bottom: 20px\"\n          label=\"WB Price\"\n          prop=\"wbPrice\"\n        >\n          <el-input\n            v-model=\"postForm.wbPrice\"\n            name=\"wbPrice\"\n            style=\"width: 50%\"\n            required\n            placeholder=\"WB Price\"\n          />\n        </el-form-item>\n\n        <el-form-item>\n          <el-button\n            v-loading=\"loading\"\n            v-waves\n            type=\"success\"\n             style=\"background:#59b6e3;border:1px solid #59b6e3\"\n            @click=\"submitForm\"\n          >\n            {{ $t(\"global.form.save\") }}\n          </el-button>\n          <el-button v-waves type=\"reset\" @click=\"resetForm\" v-if=\"!this.isEdit\">\n            {{ $t(\"global.form.reset\") }}\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { IProductData } from \"@/api/types\";\nimport Pagination from \"@/components/Pagination/index.vue\";\nimport { exportJson2Excel } from \"@/utils/excel\";\nimport { formatJson, getQuery } from \"@/utils\";\nimport Enabled from \"@/components/Enabled/index.vue\";\nimport { AdminModule } from \"@/store/modules/admin\";\nimport Sortable from \"sortablejs\";\nimport { Form } from \"element-ui\";\nimport { Action } from \"vuex-module-decorators\";\nimport {\n  addProductOptionValue,\n  defaultProductOptionValuesData,\n  updateProductOptionValue,\n  getProductOptionValueById\n} from \"@/api/productOptionValues\";\nimport { availableValues } from \"@/api/product\";\nimport router from \"./../../../router\";\n\n@Component({\n  name: \"TypeList\",\n  components: {\n    Pagination,\n    Enabled,\n  },\n})\nexport default class extends Vue {\n  @Prop({ default: false }) private isEdit!: boolean;\n\n  private tableKey = 0;\n  private total = 0;\n  optionId = 0;\n  optionValuesList: any = [];\n  private postForm = Object.assign({}, defaultProductOptionValuesData);\n  private loading = false;\n  private list: IProductData[] = [];\n  private myRole = AdminModule.roles;\n  private listLoading = true;\n  newList: any = [];\n  oldList: any = [];\n  private showSortingOption: boolean = false;\n  private renderComponent: boolean = true;\n  sortable: any;\n  private downloadLoading = false;\n\n  private showCreatedDate: boolean = false;\n\n  private filters: any = [];\n\n  created() {\n    if (this.isEdit) {\n      const id = this.$route.params && this.$route.params.id;\n      this.fetchData(parseInt(id));\n    } else {\n      this.optionId = parseInt(\n        this.$route.params && this.$route.params.optionId\n      );\n      this.postForm.productOptionId = parseInt(\n        this.$route.params && this.$route.params.id\n      );\n      this.fetchOptionValues();\n    }\n  }\n\n  private async fetchData(id: number) {\n    try {\n      const data: any = await getProductOptionValueById(id)\n      this.postForm = data\n      this.optionId = data.productOption.optionId\n      this.fetchOptionValues()\n    } catch (err) {\n      Promise.reject(err)\n    }\n  }\n\n  private submitForm() {\n    (this.$refs.postForm as Form).validate((valid) => {\n      if (valid) {\n        this.saveForm();\n      } else {\n        return false;\n      }\n    });\n  }\n\n  private resetForm() {\n    (this.$refs.postForm as Form).resetFields();\n  }\n\n  @Action\n  public async saveForm() {\n    try {\n      ;\n      this.loading = true;\n      if (this.isEdit) {\n        await updateProductOptionValue(this.postForm.id, this.postForm)\n          .then((response: any) => {\n            ;\n            this.$notify({\n              title: \"Success\",\n              message: \"Data updated successfully\",\n              type: \"success\",\n              duration: 2000,\n            });\n\n            router.push(\n              \"/product/values/\" +\n                this.postForm.productOptionId +\n                \"/\" +\n                this.optionId\n            );\n          })\n          .catch((error: any) => {\n            this.loading = false;\n            this.$message.error(\"some error occured.\");\n            console.log(error);\n          });\n      } else {\n        await addProductOptionValue(this.postForm)\n          .then((response: any) => {\n            this.$notify({\n              title: \"Success\",\n              message: \"Data saved successfully\",\n              type: \"success\",\n              duration: 2000,\n            });\n\n            router.push(\n              \"/product/values/\" +\n                this.postForm.productOptionId +\n                \"/\" +\n                this.optionId\n            );\n          })\n          .catch((error: any) => {\n            this.loading = false;\n            this.$message.error(\"some error occured.\");\n            console.log(error);\n          });\n      }\n    } catch (err) {\n      this.loading = false;\n    }\n  }\n\n  private async fetchOptionValues() {\n    const data = {\n      productOptionId: this.postForm.productOptionId,\n      optionsId: this.optionId,\n    };\n    \n    try {\n      const response: any = await availableValues(data);\n      \n      this.optionValuesList = response.values;\n    } catch (err) {\n      Promise.reject(err);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.edit-input {\n  padding-right: 100px;\n}\n\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n</style>\n"]}]}