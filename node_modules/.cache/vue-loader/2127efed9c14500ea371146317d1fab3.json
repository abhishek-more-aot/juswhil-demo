{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/components/UploadImage/index.vue?vue&type=style&index=0&id=34520046&lang=scss&scoped=true&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/components/UploadImage/index.vue","mtime":1668754947358},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/css-loader/dist/cjs.js","mtime":1653481241427},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1668596436320},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/postcss-loader/src/index.js","mtime":1655274298318},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/sass-loader/dist/cjs.js","mtime":1655274300161},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/style-resources-loader/lib/index.js","mtime":1655274300173},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kaW1lbnNpb25UZXh0ewogIGNvbG9yOiByZWQ7Cn0KLnVwbG9hZC1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBmbGV4LXdyYXA6IG5vd3JhcDsKICB3aWR0aDogNTAlOwogIC5lbC11cGxvYWQgewogICAgd2lkdGg6IDUwJTsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAqFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/UploadImage","sourcesContent":["<template>\n  <div>\n    <el-upload\n      action=\"https://jsonplaceholder.typicode.com/posts/\"\n      list-type=\"picture-card\"\n      :on-preview=\"handlePictureCardPreview\"\n      :on-remove=\"handleRemove\"\n      :http-request=\"uploadImage\"\n      :file-list=\"fileList\"\n      :before-upload=\"onBeforeUpload\"\n      :limit=\"1\"\n      :on-exceed=\"onLimitExceed\"\n      accept=\"image/x-png,image/gif,image/jpeg\"\n    >\n      <i class=\"el-icon-plus\"></i>\n    </el-upload>\n    <span v-if=\"(height && width != null)\" class=\"dimensionText\">*Only Image of dimension {{height+' * '+ width}} is accepted</span>\n    <el-dialog :visible.sync=\"dialogVisible\">\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\" />\n    </el-dialog>\n\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { uploadFile } from \"@/api/common\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n\n@Component({\n  name: \"UploadImage\",\n})\nexport default class extends Vue {\n  @Prop({ default: \"\" }) private value!: string;\n  @Prop({ required: true }) private formField!: string\n  @Prop() private height!: string\n  @Prop() private width!: string\n\n  dialogImageUrl = \"\";\n  dialogVisible = false;\n  fileList:any=[];\n\n  created () {\n    if(this.formField != null && this.formField != \"\"){\n      this.fileList.push({name: '', url: this.formField})\n    }\n    \n  }\n\nprivate async uploadImage(files:any){\n    const data = new FormData()\n    data.append('file', files.file)\n    await uploadFile(data, (event: ProgressEvent) => {\n          console.log(event);\n        }).then((res: any) => {\n          this.formField = res;\n           this.$emit('handle-upload', res)\n        });\n}\n\n   onBeforeUpload(file:any)\n    {\n      const isIMAGE = file.type == 'image/jpeg'||file.type=='image/gif'||file.type=='image/png'?true:false\n      if (!isIMAGE) {\n        this.$message.error('Upload file can only be in picture format!');\n      }\n      return isIMAGE ;\n    }\n\nonLimitExceed(){\n  this.$message.error('Limit excedeed')\n}\n\n  handleRemove(file: any, fileList: any) {\n    this.fileList = [];\n    this.$emit('handle-remove')\n  }\n  handlePictureCardPreview(file: any) {\n    this.dialogImageUrl = file.url;\n    this.dialogVisible = true;\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dimensionText{\n  color: red;\n}\n.upload-container {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  width: 50%;\n  .el-upload {\n    width: 50%;\n  }\n}\n</style>\n"]}]}