{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ProductDetail.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ProductDetail.vue","mtime":1672321398558},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/thread-loader/dist/cjs.js","mtime":1655274288448},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IENvbXBvbmVudCwgUHJvcCwgVnVlIH0gZnJvbSAndnVlLXByb3BlcnR5LWRlY29yYXRvcicKaW1wb3J0IHsgaXNWYWxpZFVSTCB9IGZyb20gJ0AvdXRpbHMvdmFsaWRhdGUnCmltcG9ydCB7CiAgZ2V0QWRtaW5CeUlkLAogIGRlZmF1bHRBZG1pbkRhdGEsCiAgdXBkYXRlQWRtaW4sCiAgcmVnaXN0ZXIKfSBmcm9tICdAL2FwaS9hZG1pbnMnCmltcG9ydCB7IEFwcE1vZHVsZSB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy9hcHAnCmltcG9ydCB7IFRhZ3NWaWV3TW9kdWxlLCBJVGFnVmlldyB9IGZyb20gJ0Avc3RvcmUvbW9kdWxlcy90YWdzLXZpZXcnCmltcG9ydCB7IEZvcm0gfSBmcm9tICdlbGVtZW50LXVpJwppbXBvcnQgcm91dGVyIGZyb20gJy4vLi4vLi4vLi4vcm91dGVyJwppbXBvcnQgeyBBY3Rpb24gfSBmcm9tICd2dWV4LW1vZHVsZS1kZWNvcmF0b3JzJwppbXBvcnQgeyBnZXRBZG1pbnNSb2xlcyB9IGZyb20gJ0AvYXBpL2FkbWluc1JvbGVzJwppbXBvcnQgeyBnZXRRdWVyeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzJwppbXBvcnQgewogIGRlZmF1bHRQcm9kdWN0RGF0YSwKICB1cGRhdGVQcm9kdWN0LAogIGFkZFByb2R1Y3QsCiAgZ2V0UHJvZHVjdEJ5SWQKfSBmcm9tICdAL2FwaS9wcm9kdWN0JwppbXBvcnQgUGFuVGh1bWIgZnJvbSAnQC9jb21wb25lbnRzL1BhblRodW1iL2luZGV4LnZ1ZScKaW1wb3J0IEF2YXRhclVwbG9hZCBmcm9tICdAL2NvbXBvbmVudHMvQXZhdGFyVXBsb2FkL2luZGV4LnZ1ZScKaW1wb3J0IHsgdXBsb2FkRmlsZSB9IGZyb20gJ0AvYXBpL2NvbW1vbicKaW1wb3J0IHsgZ2V0Q2F0ZWdvcnlzIH0gZnJvbSAnQC9hcGkvY2F0ZWdvcnknCmltcG9ydCB7IGdldE9wdGlvbnMgfSBmcm9tICdAL2FwaS9vcHRpb24nCmltcG9ydCBBeGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgZ2V0T3B0aW9uVmFsdWVzIH0gZnJvbSAnQC9hcGkvb3B0aW9uVmFsdWVzJwppbXBvcnQgeyBnZXRHc3QgfSBmcm9tICdAL2FwaS9nc3QnCmltcG9ydCBVcGxvYWRJbWFnZSBmcm9tICdAL2NvbXBvbmVudHMvVXBsb2FkSW1hZ2UvaW5kZXgudnVlJwovLyBpbXBvcnQgeyBnZXRVbml0IH0gZnJvbSAnQC9hcGkvdW5pdCcKQENvbXBvbmVudCh7CiAgbmFtZTogJ1R5cGVEZXRhaWwnLAogIGNvbXBvbmVudHM6IHsKICAgIFBhblRodW1iLAogICAgQXZhdGFyVXBsb2FkLAogICAgVXBsb2FkSW1hZ2UKICB9Cn0pCmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgVnVlIHsKICBAUHJvcCh7IGRlZmF1bHQ6IGZhbHNlIH0pIHByaXZhdGUgaXNFZGl0ITogYm9vbGVhbjsKCiAgcHJpdmF0ZSBwb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRQcm9kdWN0RGF0YSk7CiAgcHJpdmF0ZSBsb2FkaW5nID0gZmFsc2U7CiAgcHJpdmF0ZSBzaG93SW1hZ2VVcGxvYWQgPSBmYWxzZTsKICBwcml2YXRlIHNob3dTa2V0Y2hVcGxvYWQgPSBmYWxzZTsKICBwcml2YXRlIGNhdGVnb3JpZXNMaXN0OiBhbnkgPSBbXTsKICBwcml2YXRlIG9wdGlvbnNMaXN0OiBhbnkgPSBbXTsKICBwcml2YXRlIG9wdGlvblZhbHVlc0xpc3Q6IGFueSA9IFtdOwogIHByaXZhdGUgcHJvZHVjdFBob3Rvc0FycjogYW55ID0gW107CiAgcHJpdmF0ZSBwaG90b3M6IGFueSA9IFtdOwogICBwcml2YXRlIHJlbmRlcktleTphbnk7CiAgZGlhbG9nSW1hZ2VVcmwgPSAnJzsKICBwcml2YXRlIGltYWdlRWRpdGVkID0gZmFsc2U7CiAgZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogIGRpc2FibGVkID0gZmFsc2U7CiAgcHJpdmF0ZSBmaWxlTGlzdDogYW55ID0gW107CiAgcHJpdmF0ZSBlZGl0TGlzdDogYW55ID0gW107CiAgcHJpdmF0ZSB1bml0TGlzdDogYW55ID0gW107CiAgcHJpdmF0ZSBnc3RMaXN0OiBhbnkgPSBbXTsKICBwcml2YXRlIHVuaXRDaGFuZ2VkID0gZmFsc2U7CiAgcHJpdmF0ZSBpbWFnZSA9ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMzAwJzsKICBwcml2YXRlIHRvZ2dsZVNob3coKSB7CiAgICB0aGlzLnNob3dJbWFnZVVwbG9hZCA9ICF0aGlzLnNob3dJbWFnZVVwbG9hZAogIH0KCiAgcHJpdmF0ZSB0b2dnbGVTa2V0Y2goKSB7CiAgICB0aGlzLnNob3dTa2V0Y2hVcGxvYWQgPSAhdGhpcy5zaG93U2tldGNoVXBsb2FkCiAgfQoKICBwcml2YXRlIG9uQ3JvcFVwbG9hZFN1Y2Nlc3MoanNvbkRhdGE6IGFueSwgZmllbGQ6IHN0cmluZykgewogICAgdGhpcy5zaG93SW1hZ2VVcGxvYWQgPSBmYWxzZQogICAgdGhpcy5zaG93U2tldGNoVXBsb2FkID0gZmFsc2UKICAgIHRoaXMuaW1hZ2UgPSBqc29uRGF0YS5maWxlc1tmaWVsZF0KICB9CgogIHByaXZhdGUgb25DbG9zZSgpIHsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gZmFsc2UKICB9CgogIHByaXZhdGUgb25Ta2V0Y2hDbG9zZSgpIHsKICAgIHRoaXMuc2hvd1NrZXRjaFVwbG9hZCA9IGZhbHNlCiAgfQogIHByaXZhdGUgdXBkYXRlSW1hZ2UocmVzOmFueSl7CiAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gcmVzCiAgfQogIHByaXZhdGUgcmVtb3ZlSW1hZ2UoKXsKICAgIHRoaXMucG9zdEZvcm0uaW1hZ2UgPSAnJwogIH0KCiAgLy8gcHJpdmF0ZSBhc3luYyBmZXRjaFVuaXRzKCkgewogIC8vICAgY29uc3QgZGF0YTogYW55ID0gYXdhaXQgZ2V0VW5pdChnZXRRdWVyeSh7fSkpCiAgLy8gICB0aGlzLnVuaXRMaXN0ID0gZGF0YQogIC8vICAgCiAgLy8gfQoKICBwcml2YXRlIGhhbmRsZVVuaXRDaGFuZ2UoZmllbGQ6IGFueSkgewogICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIGlmIChmaWVsZCAhPT0gJycpIHsKICAgICAgICB0aGlzLnBvc3RGb3JtLnVuaXQgPSB7CiAgICAgICAgICBpZDogZmllbGQKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZmllbGQgPT09ICcnKSB7CiAgICAgICAgZGVsZXRlIHRoaXMucG9zdEZvcm0udW5pdAogICAgICAgIHRoaXMucG9zdEZvcm0udW5pdElkID0gbnVsbAogICAgICAgIHRoaXMucG9zdEZvcm0udW5pdCA9IHsKICAgICAgICAgIGlkOiBudWxsCiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLnVuaXRDaGFuZ2VkID0gdHJ1ZQogICAgfQogIH0KCiAgcHJpdmF0ZSBjcm9wU3VjY2VzcyhpbWdEYXRhVXJsOiBzdHJpbmcsIGZpZWxkOiBzdHJpbmcpIHsKICAgIHRoaXMuaW1hZ2UgPSBpbWdEYXRhVXJsCiAgICBjb25zdCBkYXRhID0gbmV3IEZvcm1EYXRhKCkKICAgIGZldGNoKGltZ0RhdGFVcmwpCiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5ibG9iKCkpCiAgICAgIC50aGVuKChibG9iKSA9PiB7CiAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBGaWxlKFtibG9iXSwgJ2ltZy4nICsgYmxvYi50eXBlLnNwbGl0KCcvJylbMV0sIHsKICAgICAgICAgIHR5cGU6ICdpbWFnZS9wbmcnCiAgICAgICAgfSkKICAgICAgICBkYXRhLmFwcGVuZCgnZmlsZScsIGZpbGUpCiAgICAgICAgdXBsb2FkRmlsZShkYXRhLCAoZXZlbnQ6IFByb2dyZXNzRXZlbnQpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KQogICAgICAgIH0pLnRoZW4oKHJlczogYW55KSA9PiB7CiAgICAgICAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gcmVzCiAgICAgICAgfSkKICAgICAgfSkKICB9CgogIGFzeW5jIHVwbG9hZEltYWdlcyhmaWxlOiBhbnksIGZpbGVMaXN0OiBhbnkpIHsKICAgIC8vIHZhciBpc0lNQUdFID0gZmFsc2UKICAgIC8vIGlmIChmaWxlLnJhdy50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS5yYXcudHlwZSA9PT0gJ2ltYWdlL3BuZycpIHsKICAgIC8vICAgCiAgICAvLyAgIGlzSU1BR0UgPSB0cnVlCiAgICAvLyB9CiAgICAvLyBpZiAoIWlzSU1BR0UpIHsKICAgIC8vICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKChlbGVtZW50OmFueSwgaW5kZXg6YW55KSA9PiB7CiAgICAvLyAgICAgaWYgKGZpbGUucmF3Lm5hbWUgPT09IGVsZW1lbnQubmFtZSkgewogICAgLy8gICAgICAgZmlsZUxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgLy8gICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gICB0aGlzLiRtZXNzYWdlLmVycm9yKCdBdmF0YXIgcGljdHVyZSBtdXN0IGJlIEpQRyBmb3JtYXQhJykKICAgIC8vIH0gZWxzZSB7CiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKQogICAgaW1nLm9ubG9hZCA9ICgpID0+IHsKICAgICAgdGhpcy5maWxlTGlzdCA9IGZpbGVMaXN0CiAgICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAgIAogICAgICAgIHRoaXMuaW1hZ2VFZGl0ZWQgPSB0cnVlCiAgICAgICAgdGhpcy5lZGl0TGlzdC5wdXNoKGZpbGUpCiAgICAgIH0KICAgIH0KICAgIGltZy5zcmMgPSBmaWxlLnVybAogIH0KCiAgaGFuZGxlUGljdHVyZUNhcmRQcmV2aWV3KGZpbGU6IGFueSkgewogICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsCiAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlCiAgfQoKICBwcml2YXRlIGhhbmRsZVJlbW92ZShmaWxlOiBhbnkpIHsKICAgIAogICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKChwaG90bzogYW55LCBpbmRleDogYW55KSA9PiB7CiAgICAgIAogICAgICBpZiAocGhvdG8ubmFtZSA9PT0gZmlsZS5uYW1lKSB7CiAgICAgICAgCiAgICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgdGhpcy5wb3N0Rm9ybS5wcm9kdWN0SW1hZ2VzLnNwbGljZShpbmRleCwgMSkgLy8gdGhpcy5waG90b3Muc3BsaWNlKGluZGV4LCAxKQogICAgICB9CiAgICB9KQogIH0KCiAgLy8gSW1hZ2UgdXBsb2FkIHNpemUgY2hlY2sKICBiZWZvcmVVcGxvYWQoZmlsZTogYW55KSB7CiAgICAKICAgIHZhciBpc0lNQUdFID0gZmFsc2UKICAgIGlmIChmaWxlLnJhdy50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS5yYXcudHlwZSA9PT0gJ2ltYWdlL3BuZycpIHsKICAgICAgCiAgICAgIGlzSU1BR0UgPSB0cnVlCiAgICB9CiAgICBpZiAoIWlzSU1BR0UpIHsKICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcignQXZhdGFyIHBpY3R1cmUgbXVzdCBiZSBKUEcgZm9ybWF0IScpCiAgICB9CgogICAgCiAgICByZXR1cm4gaXNJTUFHRQogIH0KCiAgcHJpdmF0ZSBhc3luYyBmaW5hbFVwbG9hZCgpIHsKICAgIGlmICghdGhpcy5pc0VkaXQpIHsKICAgICAgY29uc3QgZm9ybUxpc3Q6IGFueSA9IFtdCiAgICAgIGNvbnN0IGNhbGxMaXN0OiBhbnkgPSBbXQogICAgICB0aGlzLmZpbGVMaXN0LmZvckVhY2goKGZpbGU6IGFueSkgPT4gewogICAgICAgIHZhciBmaWxlT2JqID0gZmlsZS5yYXcKICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlT2JqKQogICAgICAgIGZvcm1MaXN0LnB1c2goZm9ybSkKICAgICAgfSkKICAgICAgYXdhaXQgZm9ybUxpc3QuZm9yRWFjaChhc3luYyhmb3JtOiBhbnkpID0+IHsKICAgICAgICBjYWxsTGlzdC5wdXNoKAogICAgICAgICAgdXBsb2FkRmlsZShmb3JtLCBhc3luYyhldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCkKICAgICAgICAgIH0pCiAgICAgICAgKQogICAgICB9KQogICAgICBhd2FpdCBBeGlvcy5hbGwoY2FsbExpc3QpLnRoZW4oKHJlcykgPT4gewogICAgICAgIHRoaXMucG9zdEZvcm0ucHJvZHVjdEltYWdlcyA9IHJlcwogICAgICB9KQogICAgfSBlbHNlIGlmICh0aGlzLmlzRWRpdCkgewogICAgICAKICAgICAgY29uc3QgZm9ybUxpc3Q6IGFueSA9IFtdCiAgICAgIGNvbnN0IGNhbGxMaXN0OiBhbnkgPSBbXQogICAgICB0aGlzLmVkaXRMaXN0LmZvckVhY2goKGZpbGU6IGFueSkgPT4gewogICAgICAgIHZhciBmaWxlT2JqID0gZmlsZS5yYXcKICAgICAgICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlT2JqKQogICAgICAgIGZvcm1MaXN0LnB1c2goZm9ybSkKICAgICAgfSkKICAgICAgYXdhaXQgZm9ybUxpc3QuZm9yRWFjaChhc3luYyhmb3JtOiBhbnkpID0+IHsKICAgICAgICBjYWxsTGlzdC5wdXNoKAogICAgICAgICAgdXBsb2FkRmlsZShmb3JtLCBhc3luYyhldmVudDogUHJvZ3Jlc3NFdmVudCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCkKICAgICAgICAgIH0pCiAgICAgICAgKQogICAgICB9KQogICAgICAKICAgICAgYXdhaXQgQXhpb3MuYWxsKGNhbGxMaXN0KS50aGVuKGFzeW5jKHJlcykgPT4gewogICAgICAgIAogICAgICAgIHJlcy5mb3JFYWNoKChyZXNwb25zZTogYW55KSA9PiB7CiAgICAgICAgICB0aGlzLnBvc3RGb3JtLnByb2R1Y3RJbWFnZXMucHVzaChyZXNwb25zZSkKICAgICAgICB9KQogICAgICB9KQogICAgfQogIH0KCiAgcHJpdmF0ZSBydWxlcyA9IHsKICAgIG5hbWU6IFsKICAgICAgewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgcHJvZHVjdCBuYW1lJywKICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgfSwKICAgICAgewogICAgICAgIG1pbjogMywKICAgICAgICBtZXNzYWdlOiAnTGVuZ3RoIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMycsCiAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgIH0sCiAgICAgIC8vIHsKICAgICAgLy8gICBtYXg6IDIwLAogICAgICAvLyAgIHBhdHRlcm46ICdeW2EtekEtWl17NCx9KD86IFthLXpBLVpdKyk/KD86IFthLXpBLVpdKyk/JCcsCiAgICAgIC8vICAgbWVzc2FnZTogJ1NwYWNlcyBhcmUgbm90IGFsbG93ZWQnLAogICAgICAvLyAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAvLyB9LAogICAgICAvLyB7CiAgICAgIC8vICAgcGF0dGVybjogJ15bYS16QS1aIF0qJCcsCiAgICAgIC8vICAgbWVzc2FnZTogJ05hbWUgc2hvdWxkIGNvbnRhaW4gY2hhcmFjdGVycyBvbmx5JywKICAgICAgLy8gICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgLy8gfQogICAgXSwKICAgIGNuZlByaWNlOiBbIAogICAgICB7CiAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgIG1lc3NhZ2U6ICJFbnRlciBDTkYgUHJpY2UiLAogICAgICAgdHJpZ2dlcjogWyJibHVyIiwiY2hhbmdlIl0KICAgICAgfSwKICAgIF0sCiAgICBzdXBlclN0b2NraXN0UHJpY2U6IFsgCiAgICAgIHsKICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgbWVzc2FnZTogIkVudGVyIFN1cGVyIFN0b2NrbGlzdCBQcmljZSIsCiAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCJjaGFuZ2UiXQogICAgICB9LAogICAgXSwKICAgIGNkUHJpY2U6IFsgCiAgICAgIHsKICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgbWVzc2FnZTogIkVudGVyIENEIFByaWNlIiwKICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsImNoYW5nZSJdCiAgICAgIH0sCiAgICBdLAogICAgc2RQcmljZTogWyAKICAgICAgewogICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICBtZXNzYWdlOiAiRW50ZXIgU0QgUHJpY2UiLAogICAgICAgdHJpZ2dlcjogWyJibHVyIiwiY2hhbmdlIl0KICAgICAgfSwKICAgIF0sCiAgICBjb3BQcmljZTogWyAKICAgICAgewogICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICBtZXNzYWdlOiAiRW50ZXIgQ09QIFByaWNlIiwKICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsImNoYW5nZSJdCiAgICAgIH0sCiAgICBdLAogICAgc29wUHJpY2U6IFsgCiAgICAgIHsKICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgbWVzc2FnZTogIkVudGVyIFNPUCBQcmljZSIsCiAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCJjaGFuZ2UiXQogICAgICB9LAogICAgXSwKICAgIG1ycFByaWNlOiBbIAogICAgICB7CiAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgIG1lc3NhZ2U6ICJFbnRlciBNUlAgUHJpY2UiLAogICAgICAgdHJpZ2dlcjogWyJibHVyIiwiY2hhbmdlIl0KICAgICAgfSwKICAgIF0sCiAgICB3YlByaWNlOiBbIAogICAgICB7CiAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgIG1lc3NhZ2U6ICJFbnRlciBXQiBQcmljZSIsCiAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCJjaGFuZ2UiXQogICAgICB9LAogICAgXSwKICAgIGdzdElkOiBbCiAgICAgIHsKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBHU1QnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9LAogICAgXSwKICAgIGVtYWlsOiBbCiAgICAgIHsKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGVtYWlsJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwKICAgICAgewogICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBjb3JyZWN0IGVtYWlsJywKICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgfQogICAgXSwKICAgIHJhdGluZzogWwogICAgICB7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciByYXRpbmcnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9CiAgICBdLAogICAgbW9kZWxOdW1iZXI6IFsKICAgICAgewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgTW9kZWwgTnVtYmVyJywKICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgfSwKICAgIF0sCiAgICBpbWFnZTogWwogICAgICB7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBpbWFnZScsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0KICAgIF0sCiAgICBwcm9kdWN0T3B0aW9uSWQ6IFsKICAgICAgewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICdQbGVhc2Ugc2VsZWN0IHByb2R1Y3QgT3B0aW9ucycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH0KICAgIF0KICB9OwoKICBwcml2YXRlIHRlbXBUYWdWaWV3PzogSVRhZ1ZpZXc7CgogIGdldCBsYW5nKCkgewogICAgcmV0dXJuIEFwcE1vZHVsZS5sYW5ndWFnZQogIH0KCiAgY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuZmV0Y2hVbml0cygpCiAgICB0aGlzLmZldGNoT3B0aW9uKCkKICAgIHRoaXMuZmV0Y2hPcHRpb25WYWx1ZXMoKQogICAgdGhpcy5mZXRjaEdzdCgpCiAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkCiAgICAgIHRoaXMuZmV0Y2hEYXRhKHBhcnNlSW50KGlkKSkKICAgICAgCiAgICB9IGVsc2UgewogICAgICB0aGlzLnBvc3RGb3JtID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFByb2R1Y3REYXRhKQogICAgICB0aGlzLnBvc3RGb3JtLmNhdGVnb3JpZXNJZCA9IHBhcnNlSW50KAogICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuY2F0ZWdvcmllc0lkCiAgICAgICkKICAgICAgaWYgKHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuc3ViQ2F0ZWdvcnlJZCkpIHsKICAgICAgICB0aGlzLnBvc3RGb3JtLnN1YkNhdGVnb3J5SWQgPSBwYXJzZUludCgKICAgICAgICAgIHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuc3ViQ2F0ZWdvcnlJZAogICAgICAgICkKICAgICAgfQogICAgfQogICAgLy8gV2h5IG5lZWQgdG8gbWFrZSBhIGNvcHkgb2YgdGhpcy4kcm91dGUgaGVyZT8KICAgIC8vIEJlY2F1c2UgaWYgeW91IGVudGVyIHRoaXMgcGFnZSBhbmQgcXVpY2tseSBzd2l0Y2ggdGFnLCBtYXkgYmUgaW4gdGhlIGV4ZWN1dGlvbiBvZiB0aGlzLnNldFRhZ3NWaWV3VGl0bGUgZnVuY3Rpb24sIHRoaXMuJHJvdXRlIGlzIG5vIGxvbmdlciBwb2ludGluZyB0byB0aGUgY3VycmVudCBwYWdlCiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vUGFuSmlhQ2hlbi92dWUtZWxlbWVudC1hZG1pbi9pc3N1ZXMvMTIyMQogICAgdGhpcy50ZW1wVGFnVmlldyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMuJHJvdXRlKQogIH0KCiAgcHJpdmF0ZSBhc3luYyBmZXRjaERhdGEoaWQ6IG51bWJlcikgewogICAgdHJ5IHsKICAgICAgY29uc3QgZGF0YTogYW55ID0gYXdhaXQgZ2V0UHJvZHVjdEJ5SWQoaWQpCiAgICAgIHRoaXMucG9zdEZvcm0gPSBkYXRhLnByb2R1Y3QKICAgICAgdGhpcy5yZW5kZXJLZXkrKwogICAgICAKICAgICAgdGhpcy5pbWFnZSA9IGRhdGEucHJvZHVjdC5pbWFnZQoKICAgICAgZGF0YS5wcm9kdWN0LnByb2R1Y3RJbWFnZXMuZm9yRWFjaCgoaW1hZ2U6IGFueSwgaW5kZXg6IGFueSkgPT4gewogICAgICAgIHRoaXMuZmlsZUxpc3QucHVzaCh7IG5hbWU6ICdpbWFnZTEnICsgaW5kZXgsIHVybDogaW1hZ2UgfSkKICAgICAgfSkKCiAgICAgIC8vIEp1c3QgZm9yIHRlc3QKICAgICAgLy8gY29uc3QgdGl0bGUgPSB0aGlzLnBvc3RGb3JtLnRpdGxlID8gdGhpcy5wb3N0Rm9ybS50aXRsZSA6ICcnCiAgICAgIC8vIFNldCB0YWdzdmlldyB0aXRsZQogICAgICAvLyB0aGlzLnNldFRhZ3NWaWV3VGl0bGUodGl0bGUpCiAgICAgIC8vIFNldCBwYWdlIHRpdGxlCiAgICAgIC8vIHRoaXMuc2V0UGFnZVRpdGxlKHRpdGxlKQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIFByb21pc2UucmVqZWN0KGVycikKICAgIH0KICB9CgogIHByaXZhdGUgYXN5bmMgZmV0Y2hPcHRpb24oKSB7CiAgICB0cnkgewogICAgICB0aGlzLm9wdGlvbnNMaXN0ID0gYXdhaXQgZ2V0T3B0aW9ucygKICAgICAgICBnZXRRdWVyeSh7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgZmlsdGVyOiB7CiAgICAgICAgICAgIGVuYWJsZWQ6ICdlcScKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICApCiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgUHJvbWlzZS5yZWplY3QoZXJyKQogICAgfQogIH0KCiAgcHJpdmF0ZSBhc3luYyBmZXRjaE9wdGlvblZhbHVlcygpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMub3B0aW9uVmFsdWVzTGlzdCA9IGF3YWl0IGdldE9wdGlvblZhbHVlcygKICAgICAgICBnZXRRdWVyeSh7CiAgICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgICAgZmlsdGVyOiB7fQogICAgICAgIH0pCiAgICAgICkKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBQcm9taXNlLnJlamVjdChlcnIpCiAgICB9CiAgfQoKICBwcml2YXRlIGFzeW5jIGZldGNoR3N0KCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5nc3RMaXN0ID0gYXdhaXQgZ2V0R3N0KAogICAgICAgIGdldFF1ZXJ5KHsKICAgICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgICBmaWx0ZXI6IHsgZW5hYmxlZDogJ2VxJyB9CiAgICAgICAgfSkKICAgICAgKQogICAgICAKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBQcm9taXNlLnJlamVjdChlcnIpCiAgICB9CiAgfQoKICBwcml2YXRlIHNldFRhZ3NWaWV3VGl0bGUodGl0bGU6IHN0cmluZykgewogICAgY29uc3QgdGFnVmlldyA9IHRoaXMudGVtcFRhZ1ZpZXcKICAgIGlmICh0YWdWaWV3KSB7CiAgICAgIHRhZ1ZpZXcudGl0bGUgPSBgJHt0aXRsZX0tJHt0aGlzLnBvc3RGb3JtLmlkfWAKICAgICAgVGFnc1ZpZXdNb2R1bGUudXBkYXRlVmlzaXRlZFZpZXcodGFnVmlldykKICAgIH0KICB9CgogIHByaXZhdGUgc2V0UGFnZVRpdGxlKHRpdGxlOiBzdHJpbmcpIHsKICAgIGRvY3VtZW50LnRpdGxlID0gYCR7dGl0bGV9IC0gJHt0aGlzLnBvc3RGb3JtLmlkfWAKICB9CgogIHByaXZhdGUgYXN5bmMgc3VibWl0Rm9ybSgpIHsKICAgICh0aGlzLiRyZWZzLnBvc3RGb3JtIGFzIEZvcm0pLnZhbGlkYXRlKCh2YWxpZCkgPT4gewogICAgICBpZiAodmFsaWQpIHsKICAgICAgICB0aGlzLnNhdmVGb3JtKCkKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2UKICAgICAgfQogICAgfSkKICB9CgogIHByaXZhdGUgcmVzZXRGb3JtKCkgewogICAgKHRoaXMuJHJlZnMucG9zdEZvcm0gYXMgRm9ybSkucmVzZXRGaWVsZHMoKQogICAgdGhpcy5pbWFnZSA9ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMzAwJwogICAgdGhpcy5maWxlTGlzdCA9IFtdCiAgICB0aGlzLnJlbmRlcktleS0tCiAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gJycKICB9CgogIEBBY3Rpb24KICBwdWJsaWMgYXN5bmMgc2F2ZUZvcm0oKSB7CiAgICB0cnkgewogICAgICAgYXdhaXQgdGhpcy5maW5hbFVwbG9hZCgpCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgaWYgKHRoaXMuaW1hZ2VFZGl0ZWQpIHsKICAgICAgICAgIC8vIGF3YWl0IHRoaXMuZmluYWxVcGxvYWQoKQogICAgICAgIH0KICAgICAgICB0aGlzLnBvc3RGb3JtLmdzdCA9IHsKICAgICAgICAgIGlkOiB0aGlzLnBvc3RGb3JtLmdzdElkCiAgICAgICAgfQogICAgICAgIGF3YWl0IHVwZGF0ZVByb2R1Y3QodGhpcy5wb3N0Rm9ybS5pZCwgdGhpcy5wb3N0Rm9ybSkKICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ0RhdGEgdXBkYXRlZCBzdWNjZXNzZnVsbHknLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgICAgICB9KQogICAgICAgICAgICAvLyBpZiAodGhpcy5wb3N0Rm9ybS5zdWJDYXRlZ29yeUlkKSB7CiAgICAgICAgICAgIC8vICAgcm91dGVyLnB1c2goCiAgICAgICAgICAgIC8vICAgICAnL3Byb2R1Y3QvbGlzdC8nICsKICAgICAgICAgICAgLy8gICAgICAgdGhpcy5wb3N0Rm9ybS5jYXRlZ29yaWVzSWQgKwogICAgICAgICAgICAvLyAgICAgICAnLycgKwogICAgICAgICAgICAvLyAgICAgICB0aGlzLnBvc3RGb3JtLnN1YkNhdGVnb3J5SWQKICAgICAgICAgICAgLy8gICApCiAgICAgICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9wcm9kdWN0L2xpc3QvJyArIHRoaXMucG9zdEZvcm0uY2F0ZWdvcmllc0lkKQogICAgICAgICAgICAvLyB9CiAgICAgICAgCiAgICAgICAgICAvLyAuY2F0Y2goKGVycm9yOiBhbnkpID0+IHsKICAgICAgICAgICAgCiAgICAgICAgICAvLyAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ3NvbWUgZXJyb3Igb2NjdXJlZC4nKQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAgIC8vIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgIGRlYnVnZ2VyOwoKICAgICAgICBhd2FpdCBhZGRQcm9kdWN0KHRoaXMucG9zdEZvcm0pCiAgICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgICAgICAgIHRpdGxlOiAnU3VjY2VzcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRGF0YSBzYXZlZCBzdWNjZXNzZnVsbHknLAogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMDAKICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIGRlYnVnZ2VyOwogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcm91dGVyLnB1c2goJy9wcm9kdWN0L2xpc3QvJyArIHRoaXMucG9zdEZvcm0uY2F0ZWdvcmllc0lkKQogICAgICAgICAgICAgIAogICAgICAgICAgIAogICAgICB9CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgIH0KICB9CgogIC8vIHByaXZhdGUgaW1hZ2VVcGxvYWQoZmlsZTogYW55KSB7CiAgLy8gICB0aGlzLnBvc3RGb3JtLmltYWdlID0gZmlsZS5yZXNwb25zZQogIC8vIH0KCiAgLy8gcHJpdmF0ZSBzZW5kVG9BbGxUb2dnbGVkKCkgewogIC8vICAgaWYgKHRoaXMucG9zdEZvcm0uc2VuZFRvQWxsKSB7CiAgLy8gICAgIHRoaXMuJGNvbmZpcm0oCiAgLy8gICAgICAgJ0FyZSB5b3Ugc3VyZSB3YW50IHRvIHNlbmQgbm90aWZpY2F0aW9uIHRvIEFsbCB1c2Vycz8nLAogIC8vICAgICAgICdBdHRlbnRpb24hJywKICAvLyAgICAgICB7CiAgLy8gICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIlllcywgSSBrbm93IHdoYXQgSSdtIGRvaW5nIiwKICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25DbGFzczogJ2VsLWJ1dHRvbi0tc3VjY2VzcycsCiAgLy8gICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiB0aGlzLiR0YygndGFibGUuY2FuY2VsJyksCiAgLy8gICAgICAgICBjYW5jZWxCdXR0b25DbGFzczogJ2VsLWJ1dHRvbi0tZGFuZ2VyJywKICAvLyAgICAgICAgIHR5cGU6ICdlcnJvcicKICAvLyAgICAgICB9CiAgLy8gICAgICkKICAvLyAgICAgICAudGhlbihjb25maXJtID0+IHsKICAvLyAgICAgICAgIC8vIGxldCBpdCBjb25maXJtCiAgLy8gICAgICAgICAvLyBjbGVhciBvdGhlciBkcm9wZG93bnMKICAvLyAgICAgICB9KQogIC8vICAgICAgIC5jYXRjaChfID0+IHsKICAvLyAgICAgICAgIHRoaXMucG9zdEZvcm0uc2VuZFRvQWxsID0gZmFsc2UKICAvLyAgICAgICB9KQogIC8vICAgfQogIC8vIH0KfQo="},null]}