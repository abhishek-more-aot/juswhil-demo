{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js??ref--15-2!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/login/forgotPassword.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/login/forgotPassword.vue","mtime":1672835244566},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/babel.config.js","mtime":1668754947334},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9hbGdvb2NlYW4vRGVza3RvcC9BT1QtUHJvamVjdC9teXZhcm5pLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnB1c2guanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnJlZHVjZS5qcyIpOwp2YXIgX3RzbGliID0gcmVxdWlyZSgidHNsaWIiKTsKdmFyIF92dWVQcm9wZXJ0eURlY29yYXRvciA9IHJlcXVpcmUoInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiKTsKdmFyIF9hZG1pbiA9IHJlcXVpcmUoIkAvc3RvcmUvbW9kdWxlcy9hZG1pbiIpOwp2YXIgX3ZhbGlkYXRlID0gcmVxdWlyZSgiQC91dGlscy92YWxpZGF0ZSIpOwp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL2NvbXBvbmVudHMvTGFuZ1NlbGVjdC9pbmRleC52dWUiKSk7CmxldCBkZWZhdWx0XzEgPSBjbGFzcyBkZWZhdWx0XzEgZXh0ZW5kcyBfdnVlUHJvcGVydHlEZWNvcmF0b3IuVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLnZhbGlkYXRlVXNlcm5hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICghKDAsIF92YWxpZGF0ZS5pc1ZhbGlkRW1haWwpKHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignUGxlYXNlIGVudGVyIHZhbGlkIGVtYWlsJykpOwogICAgICB9IGVsc2UgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH07CiAgICB0aGlzLnZhbGlkYXRlUGFzc3dvcmQgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCA2KSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdUaGUgcGFzc3dvcmQgY2FuIG5vdCBiZSBsZXNzIHRoYW4gNiBkaWdpdHMnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKICAgIHRoaXMubG9naW5Gb3JtID0gewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJwogICAgfTsKICAgIHRoaXMubG9naW5SdWxlcyA9IHsKICAgICAgZW1haWw6IFt7CiAgICAgICAgdmFsaWRhdG9yOiB0aGlzLnZhbGlkYXRlVXNlcm5hbWUsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBwYXNzd29yZDogW3sKICAgICAgICB2YWxpZGF0b3I6IHRoaXMudmFsaWRhdGVQYXNzd29yZCwKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0KICAgIH07CiAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCc7CiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIHRoaXMuc2hvd0RpYWxvZyA9IGZhbHNlOwogICAgdGhpcy5vdGhlclF1ZXJ5ID0ge307CiAgfQogIG9uUm91dGVDaGFuZ2Uocm91dGUpIHsKICAgIC8vIFRPRE86IHJlbW92ZSB0aGUgImFzIERpY3Rpb25hcnk8c3RyaW5nPiIgaGFjayBhZnRlciB2NCByZWxlYXNlIGZvciB2dWUtcm91dGVyCiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3Z1ZWpzL3Z1ZS1yb3V0ZXIvcHVsbC8yMDUwIGZvciBkZXRhaWxzCiAgICBjb25zdCBxdWVyeSA9IHJvdXRlLnF1ZXJ5OwogICAgaWYgKHF1ZXJ5KSB7CiAgICAgIHRoaXMucmVkaXJlY3QgPSBxdWVyeS5yZWRpcmVjdDsKICAgICAgdGhpcy5vdGhlclF1ZXJ5ID0gdGhpcy5nZXRPdGhlclF1ZXJ5KHF1ZXJ5KTsKICAgIH0KICB9CiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmxvZ2luRm9ybS5lbWFpbCA9PT0gJycpIHsKICAgICAgdGhpcy4kcmVmcy5lbWFpbC5mb2N1cygpOwogICAgfSBlbHNlIGlmICh0aGlzLmxvZ2luRm9ybS5wYXNzd29yZCA9PT0gJycpIHsKICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZC5mb2N1cygpOwogICAgfQogIH0KICBzaG93UHdkKCkgewogICAgaWYgKHRoaXMucGFzc3dvcmRUeXBlID09PSAncGFzc3dvcmQnKSB7CiAgICAgIHRoaXMucGFzc3dvcmRUeXBlID0gJyc7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnBhc3N3b3JkVHlwZSA9ICdwYXNzd29yZCc7CiAgICB9CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmQuZm9jdXMoKTsKICAgIH0pOwogIH0KICBoYW5kbGVMb2dpbigpIHsKICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKGFzeW5jIHZhbGlkID0+IHsKICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB0cnkgewogICAgICAgICAgYXdhaXQgX2FkbWluLkFkbWluTW9kdWxlLkxvZ2luKHRoaXMubG9naW5Gb3JtKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogdGhpcy5yZWRpcmVjdCB8fCAnLycsCiAgICAgICAgICAgIHF1ZXJ5OiB0aGlzLm90aGVyUXVlcnkKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6ICdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJywKICAgICAgICAgIHR5cGU6ICdlcnJvcicKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH0KICBnZXRPdGhlclF1ZXJ5KHF1ZXJ5KSB7CiAgICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnkpLnJlZHVjZSgoYWNjLCBjdXIpID0+IHsKICAgICAgaWYgKGN1ciAhPT0gJ3JlZGlyZWN0JykgewogICAgICAgIGFjY1tjdXJdID0gcXVlcnlbY3VyXTsKICAgICAgfQogICAgICByZXR1cm4gYWNjOwogICAgfSwge30pOwogIH0KfTsKKDAsIF90c2xpYi5fX2RlY29yYXRlKShbKDAsIF92dWVQcm9wZXJ0eURlY29yYXRvci5XYXRjaCkoJyRyb3V0ZScsIHsKICBpbW1lZGlhdGU6IHRydWUKfSldLCBkZWZhdWx0XzEucHJvdG90eXBlLCAib25Sb3V0ZUNoYW5nZSIsIG51bGwpOwpkZWZhdWx0XzEgPSAoMCwgX3RzbGliLl9fZGVjb3JhdGUpKFsoMCwgX3Z1ZVByb3BlcnR5RGVjb3JhdG9yLkNvbXBvbmVudCkoewogIG5hbWU6ICdMb2dpbicsCiAgY29tcG9uZW50czogewogICAgTGFuZ1NlbGVjdDogX2luZGV4LmRlZmF1bHQKICB9Cn0pXSwgZGVmYXVsdF8xKTsKdmFyIF9kZWZhdWx0ID0gZGVmYXVsdF8xOwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":"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","names":["Vue","constructor","rule","value","callback","Error","length","email","password","validator","validateUsername","trigger","validatePassword","onRouteChange","route","query","redirect","otherQuery","getOtherQuery","mounted","loginForm","$refs","focus","showPwd","passwordType","$nextTick","handleLogin","validate","valid","loading","AdminModule","Login","$router","push","path","error","$message","message","type","Object","keys","reduce","acc","cur","immediate","default_1","name","components","LangSelect"],"sourceRoot":"","sources":["/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/login/forgotPassword.vue?vue&type=script&lang=ts&"],"sourcesContent":["\nimport { Component, Vue, Watch } from 'vue-property-decorator'\nimport { AdminModule } from '@/store/modules/admin'\nimport { isValidEmail } from '@/utils/validate'\nimport LangSelect from '@/components/LangSelect/index.vue'\nimport { Dictionary, Route } from 'vue-router/types/router'\nimport { Input } from 'element-ui'\nimport { ElForm } from 'element-ui/types/form'\n\n@Component({\n  name: 'Login',\n  components: {\n    LangSelect\n  }\n})\nexport default class extends Vue {\n  private validateUsername = (rule: any, value: string, callback: Function) => {\n    if (!isValidEmail(value)) {\n      callback(new Error('Please enter valid email'))\n    } else {\n      callback()\n    }\n  };\n\n  private validatePassword = (rule: any, value: string, callback: Function) => {\n    if (value.length < 6) {\n      callback(new Error('The password can not be less than 6 digits'))\n    } else {\n      callback()\n    }\n  };\n\n  private loginForm = {\n    email: '',\n    password: ''\n  };\n\n  private loginRules = {\n    email: [{ validator: this.validateUsername, trigger: 'blur' }],\n    password: [{ validator: this.validatePassword, trigger: 'blur' }]\n  };\n\n  private passwordType = 'password';\n  private loading = false;\n  private showDialog = false;\n  private redirect?: string;\n  private otherQuery: Dictionary<string> = {};\n\n  @Watch('$route', { immediate: true })\n  private onRouteChange(route: Route) {\n    // TODO: remove the \"as Dictionary<string>\" hack after v4 release for vue-router\n    // See https://github.com/vuejs/vue-router/pull/2050 for details\n    const query = route.query as Dictionary<string>\n    if (query) {\n      this.redirect = query.redirect\n      this.otherQuery = this.getOtherQuery(query)\n    }\n  }\n\n  mounted() {\n    if (this.loginForm.email === '') {\n      (this.$refs.email as Input).focus()\n    } else if (this.loginForm.password === '') {\n      (this.$refs.password as Input).focus()\n    }\n  }\n\n  private showPwd() {\n    if (this.passwordType === 'password') {\n      this.passwordType = ''\n    } else {\n      this.passwordType = 'password'\n    }\n    this.$nextTick(() => {\n      (this.$refs.password as Input).focus()\n    })\n  }\n\n  private handleLogin() {\n    (this.$refs.loginForm as ElForm).validate(async(valid: boolean) => {\n      if (valid) {\n        this.loading = true\n        try {\n          await AdminModule.Login(this.loginForm)\n          this.$router.push({\n            path: this.redirect || '/',\n            query: this.otherQuery\n          })\n        } catch (error) {\n          this.$message({\n            message: 'Invalid email or password',\n            type: 'error'\n          })\n          this.loading = false\n        }\n      } else {\n        this.$message({\n          message: 'Invalid email or password',\n          type: 'error'\n        })\n        return false\n      }\n    })\n  }\n\n  private getOtherQuery(query: Dictionary<string>) {\n    return Object.keys(query).reduce((acc, cur) => {\n      if (cur !== 'redirect') {\n        acc[cur] = query[cur]\n      }\n      return acc\n    }, {} as Dictionary<string>)\n  }\n}\n"]}]}