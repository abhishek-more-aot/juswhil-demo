{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js??ref--15-2!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/eslint-loader/index.js??ref--14-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/directives/permission/index.ts","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/directives/permission/index.ts","mtime":1668754947358},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/babel.config.js","mtime":1668754947334},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/eslint-loader/index.js","mtime":1655274294254}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLnBlcm1pc3Npb24gPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci5jYXVzZS5qcyIpOwp2YXIgX2FkbWluID0gcmVxdWlyZSgiQC9zdG9yZS9tb2R1bGVzL2FkbWluIik7CmNvbnN0IHBlcm1pc3Npb24gPSB7CiAgaW5zZXJ0ZWQoZWwsIGJpbmRpbmcpIHsKICAgIGNvbnN0IHsKICAgICAgdmFsdWUKICAgIH0gPSBiaW5kaW5nOwogICAgY29uc3Qgcm9sZXMgPSBfYWRtaW4uQWRtaW5Nb2R1bGUucm9sZXM7CiAgICBpZiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPiAwKSB7CiAgICAgIGNvbnN0IHBlcm1pc3Npb25Sb2xlcyA9IHZhbHVlOwogICAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gcm9sZXMuc29tZShyb2xlID0+IHsKICAgICAgICByZXR1cm4gcGVybWlzc2lvblJvbGVzLmluY2x1ZGVzKHJvbGUpOwogICAgICB9KTsKICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKSB7CiAgICAgICAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCduZWVkIHJvbGVzISBMaWtlIHYtcGVybWlzc2lvbj0iW1wnc3VwZXJhZG1pblwnLFwnYWRtaW5cJyxcJ2V4ZWN1dGl2ZVwnXSInKTsKICAgIH0KICB9Cn07CmV4cG9ydHMucGVybWlzc2lvbiA9IHBlcm1pc3Npb247"},{"version":3,"mappings":";;;;;;;AACA;AAEO,MAAMA,UAAU,GAAqB;EAC1CC,QAAQ,CAACC,EAAE,EAAEC,OAAO;IAClB,MAAM;MAAEC;IAAK,CAAE,GAAGD,OAAO;IACzB,MAAME,KAAK,GAAGC,kBAAW,CAACD,KAAK;IAC/B,IAAID,KAAK,IAAIA,KAAK,YAAYG,KAAK,IAAIH,KAAK,CAACI,MAAM,GAAG,CAAC,EAAE;MACvD,MAAMC,eAAe,GAAGL,KAAK;MAC7B,MAAMM,aAAa,GAAGL,KAAK,CAACM,IAAI,CAACC,IAAI,IAAG;QACtC,OAAOH,eAAe,CAACI,QAAQ,CAACD,IAAI,CAAC;MACvC,CAAC,CAAC;MACF,IAAI,CAACF,aAAa,EAAE;QAClBR,EAAE,CAACY,UAAU,IAAIZ,EAAE,CAACY,UAAU,CAACC,WAAW,CAACb,EAAE,CAAC;;KAEjD,MAAM;MACL,MAAM,IAAIc,KAAK,CAAC,0EAA0E,CAAC;;EAE/F;CACD;AAAA","names":["permission","inserted","el","binding","value","roles","AdminModule","Array","length","permissionRoles","hasPermission","some","role","includes","parentNode","removeChild","Error"],"sourceRoot":"","sources":["/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/eslint-loader/index.js??ref--14-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/directives/permission/index.ts"],"sourcesContent":["import { DirectiveOptions } from 'vue'\nimport { AdminModule } from '@/store/modules/admin'\n\nexport const permission: DirectiveOptions = {\n  inserted(el, binding) {\n    const { value } = binding\n    const roles = AdminModule.roles\n    if (value && value instanceof Array && value.length > 0) {\n      const permissionRoles = value\n      const hasPermission = roles.some(role => {\n        return permissionRoles.includes(role)\n      })\n      if (!hasPermission) {\n        el.parentNode && el.parentNode.removeChild(el)\n      }\n    } else {\n      throw new Error('need roles! Like v-permission=\"[\\'superadmin\\',\\'admin\\',\\'executive\\']\"')\n    }\n  }\n}\n"]}]}