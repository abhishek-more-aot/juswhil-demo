{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/thread-loader/dist/cjs.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js??ref--14-3!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ProductDetail.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/views/product/components/ProductDetail.vue","mtime":1672321398558},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/babel.config.js","mtime":1668754947334},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/thread-loader/dist/cjs.js","mtime":1655274288448},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9hbGdvb2NlYW4vRGVza3RvcC9BT1QtUHJvamVjdC9teXZhcm5pLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyIpOwp2YXIgX3RzbGliID0gcmVxdWlyZSgidHNsaWIiKTsKdmFyIF92dWVQcm9wZXJ0eURlY29yYXRvciA9IHJlcXVpcmUoInZ1ZS1wcm9wZXJ0eS1kZWNvcmF0b3IiKTsKdmFyIF9hcHAgPSByZXF1aXJlKCJAL3N0b3JlL21vZHVsZXMvYXBwIik7CnZhciBfdGFnc1ZpZXcgPSByZXF1aXJlKCJAL3N0b3JlL21vZHVsZXMvdGFncy12aWV3Iik7CnZhciBfcm91dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLy4uLy4uLy4uL3JvdXRlciIpKTsKdmFyIF92dWV4TW9kdWxlRGVjb3JhdG9ycyA9IHJlcXVpcmUoInZ1ZXgtbW9kdWxlLWRlY29yYXRvcnMiKTsKdmFyIF91dGlscyA9IHJlcXVpcmUoIi4uLy4uLy4uL3V0aWxzIik7CnZhciBfcHJvZHVjdCA9IHJlcXVpcmUoIkAvYXBpL3Byb2R1Y3QiKTsKdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC9jb21wb25lbnRzL1BhblRodW1iL2luZGV4LnZ1ZSIpKTsKdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9BdmF0YXJVcGxvYWQvaW5kZXgudnVlIikpOwp2YXIgX2NvbW1vbiA9IHJlcXVpcmUoIkAvYXBpL2NvbW1vbiIpOwp2YXIgX29wdGlvbiA9IHJlcXVpcmUoIkAvYXBpL29wdGlvbiIpOwp2YXIgX2F4aW9zID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJheGlvcyIpKTsKdmFyIF9vcHRpb25WYWx1ZXMgPSByZXF1aXJlKCJAL2FwaS9vcHRpb25WYWx1ZXMiKTsKdmFyIF9nc3QgPSByZXF1aXJlKCJAL2FwaS9nc3QiKTsKdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9VcGxvYWRJbWFnZS9pbmRleC52dWUiKSk7Ci8vIGltcG9ydCB7IGdldFVuaXQgfSBmcm9tICdAL2FwaS91bml0JwpsZXQgZGVmYXVsdF8xID0gY2xhc3MgZGVmYXVsdF8xIGV4dGVuZHMgX3Z1ZVByb3BlcnR5RGVjb3JhdG9yLlZ1ZSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5wb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIF9wcm9kdWN0LmRlZmF1bHRQcm9kdWN0RGF0YSk7CiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gZmFsc2U7CiAgICB0aGlzLnNob3dTa2V0Y2hVcGxvYWQgPSBmYWxzZTsKICAgIHRoaXMuY2F0ZWdvcmllc0xpc3QgPSBbXTsKICAgIHRoaXMub3B0aW9uc0xpc3QgPSBbXTsKICAgIHRoaXMub3B0aW9uVmFsdWVzTGlzdCA9IFtdOwogICAgdGhpcy5wcm9kdWN0UGhvdG9zQXJyID0gW107CiAgICB0aGlzLnBob3RvcyA9IFtdOwogICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9ICcnOwogICAgdGhpcy5pbWFnZUVkaXRlZCA9IGZhbHNlOwogICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7CiAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICB0aGlzLmVkaXRMaXN0ID0gW107CiAgICB0aGlzLnVuaXRMaXN0ID0gW107CiAgICB0aGlzLmdzdExpc3QgPSBbXTsKICAgIHRoaXMudW5pdENoYW5nZWQgPSBmYWxzZTsKICAgIHRoaXMuaW1hZ2UgPSAnaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzMwMCc7CiAgICB0aGlzLnJ1bGVzID0gewogICAgICBuYW1lOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICdQbGVhc2UgZW50ZXIgcHJvZHVjdCBuYW1lJywKICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgfSwgewogICAgICAgIG1pbjogMywKICAgICAgICBtZXNzYWdlOiAnTGVuZ3RoIHNob3VsZCBiZSBncmVhdGVyIHRoYW4gMycsCiAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgIH1dLAogICAgICBjbmZQcmljZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAiRW50ZXIgQ05GIFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIHN1cGVyU3RvY2tpc3RQcmljZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAiRW50ZXIgU3VwZXIgU3RvY2tsaXN0IFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIGNkUHJpY2U6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIkVudGVyIENEIFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIHNkUHJpY2U6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIkVudGVyIFNEIFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIGNvcFByaWNlOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICJFbnRlciBDT1AgUHJpY2UiLAogICAgICAgIHRyaWdnZXI6IFsiYmx1ciIsICJjaGFuZ2UiXQogICAgICB9XSwKICAgICAgc29wUHJpY2U6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIkVudGVyIFNPUCBQcmljZSIsCiAgICAgICAgdHJpZ2dlcjogWyJibHVyIiwgImNoYW5nZSJdCiAgICAgIH1dLAogICAgICBtcnBQcmljZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAiRW50ZXIgTVJQIFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIHdiUHJpY2U6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogIkVudGVyIFdCIFByaWNlIiwKICAgICAgICB0cmlnZ2VyOiBbImJsdXIiLCAiY2hhbmdlIl0KICAgICAgfV0sCiAgICAgIGdzdElkOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICdQbGVhc2Ugc2VsZWN0IEdTVCcsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBlbWFpbDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGVtYWlsJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfSwgewogICAgICAgIHR5cGU6ICdlbWFpbCcsCiAgICAgICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBjb3JyZWN0IGVtYWlsJywKICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgfV0sCiAgICAgIHJhdGluZzogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIHJhdGluZycsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBtb2RlbE51bWJlcjogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIE1vZGVsIE51bWJlcicsCiAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgIH1dLAogICAgICBpbWFnZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGltYWdlJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0sCiAgICAgIHByb2R1Y3RPcHRpb25JZDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAnUGxlYXNlIHNlbGVjdCBwcm9kdWN0IE9wdGlvbnMnLAogICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICB9XQogICAgfTsKICAgIC8vIHByaXZhdGUgaW1hZ2VVcGxvYWQoZmlsZTogYW55KSB7CiAgICAvLyAgIHRoaXMucG9zdEZvcm0uaW1hZ2UgPSBmaWxlLnJlc3BvbnNlCiAgICAvLyB9CiAgICAvLyBwcml2YXRlIHNlbmRUb0FsbFRvZ2dsZWQoKSB7CiAgICAvLyAgIGlmICh0aGlzLnBvc3RGb3JtLnNlbmRUb0FsbCkgewogICAgLy8gICAgIHRoaXMuJGNvbmZpcm0oCiAgICAvLyAgICAgICAnQXJlIHlvdSBzdXJlIHdhbnQgdG8gc2VuZCBub3RpZmljYXRpb24gdG8gQWxsIHVzZXJzPycsCiAgICAvLyAgICAgICAnQXR0ZW50aW9uIScsCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAiWWVzLCBJIGtub3cgd2hhdCBJJ20gZG9pbmciLAogICAgLy8gICAgICAgICBjb25maXJtQnV0dG9uQ2xhc3M6ICdlbC1idXR0b24tLXN1Y2Nlc3MnLAogICAgLy8gICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiB0aGlzLiR0YygndGFibGUuY2FuY2VsJyksCiAgICAvLyAgICAgICAgIGNhbmNlbEJ1dHRvbkNsYXNzOiAnZWwtYnV0dG9uLS1kYW5nZXInLAogICAgLy8gICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAvLyAgICAgICB9CiAgICAvLyAgICAgKQogICAgLy8gICAgICAgLnRoZW4oY29uZmlybSA9PiB7CiAgICAvLyAgICAgICAgIC8vIGxldCBpdCBjb25maXJtCiAgICAvLyAgICAgICAgIC8vIGNsZWFyIG90aGVyIGRyb3Bkb3ducwogICAgLy8gICAgICAgfSkKICAgIC8vICAgICAgIC5jYXRjaChfID0+IHsKICAgIC8vICAgICAgICAgdGhpcy5wb3N0Rm9ybS5zZW5kVG9BbGwgPSBmYWxzZQogICAgLy8gICAgICAgfSkKICAgIC8vICAgfQogICAgLy8gfQogIH0KCiAgdG9nZ2xlU2hvdygpIHsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gIXRoaXMuc2hvd0ltYWdlVXBsb2FkOwogIH0KICB0b2dnbGVTa2V0Y2goKSB7CiAgICB0aGlzLnNob3dTa2V0Y2hVcGxvYWQgPSAhdGhpcy5zaG93U2tldGNoVXBsb2FkOwogIH0KICBvbkNyb3BVcGxvYWRTdWNjZXNzKGpzb25EYXRhLCBmaWVsZCkgewogICAgdGhpcy5zaG93SW1hZ2VVcGxvYWQgPSBmYWxzZTsKICAgIHRoaXMuc2hvd1NrZXRjaFVwbG9hZCA9IGZhbHNlOwogICAgdGhpcy5pbWFnZSA9IGpzb25EYXRhLmZpbGVzW2ZpZWxkXTsKICB9CiAgb25DbG9zZSgpIHsKICAgIHRoaXMuc2hvd0ltYWdlVXBsb2FkID0gZmFsc2U7CiAgfQogIG9uU2tldGNoQ2xvc2UoKSB7CiAgICB0aGlzLnNob3dTa2V0Y2hVcGxvYWQgPSBmYWxzZTsKICB9CiAgdXBkYXRlSW1hZ2UocmVzKSB7CiAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gcmVzOwogIH0KICByZW1vdmVJbWFnZSgpIHsKICAgIHRoaXMucG9zdEZvcm0uaW1hZ2UgPSAnJzsKICB9CiAgLy8gcHJpdmF0ZSBhc3luYyBmZXRjaFVuaXRzKCkgewogIC8vICAgY29uc3QgZGF0YTogYW55ID0gYXdhaXQgZ2V0VW5pdChnZXRRdWVyeSh7fSkpCiAgLy8gICB0aGlzLnVuaXRMaXN0ID0gZGF0YQogIC8vICAgCiAgLy8gfQogIGhhbmRsZVVuaXRDaGFuZ2UoZmllbGQpIHsKICAgIGlmICh0aGlzLmlzRWRpdCkgewogICAgICBpZiAoZmllbGQgIT09ICcnKSB7CiAgICAgICAgdGhpcy5wb3N0Rm9ybS51bml0ID0gewogICAgICAgICAgaWQ6IGZpZWxkCiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChmaWVsZCA9PT0gJycpIHsKICAgICAgICBkZWxldGUgdGhpcy5wb3N0Rm9ybS51bml0OwogICAgICAgIHRoaXMucG9zdEZvcm0udW5pdElkID0gbnVsbDsKICAgICAgICB0aGlzLnBvc3RGb3JtLnVuaXQgPSB7CiAgICAgICAgICBpZDogbnVsbAogICAgICAgIH07CiAgICAgIH0KICAgICAgdGhpcy51bml0Q2hhbmdlZCA9IHRydWU7CiAgICB9CiAgfQogIGNyb3BTdWNjZXNzKGltZ0RhdGFVcmwsIGZpZWxkKSB7CiAgICB0aGlzLmltYWdlID0gaW1nRGF0YVVybDsKICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgIGZldGNoKGltZ0RhdGFVcmwpLnRoZW4ocmVzID0+IHJlcy5ibG9iKCkpLnRoZW4oYmxvYiA9PiB7CiAgICAgIGNvbnN0IGZpbGUgPSBuZXcgRmlsZShbYmxvYl0sICdpbWcuJyArIGJsb2IudHlwZS5zcGxpdCgnLycpWzFdLCB7CiAgICAgICAgdHlwZTogJ2ltYWdlL3BuZycKICAgICAgfSk7CiAgICAgIGRhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7CiAgICAgICgwLCBfY29tbW9uLnVwbG9hZEZpbGUpKGRhdGEsIGV2ZW50ID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gcmVzOwogICAgICB9KTsKICAgIH0pOwogIH0KICBhc3luYyB1cGxvYWRJbWFnZXMoZmlsZSwgZmlsZUxpc3QpIHsKICAgIC8vIHZhciBpc0lNQUdFID0gZmFsc2UKICAgIC8vIGlmIChmaWxlLnJhdy50eXBlID09PSAnaW1hZ2UvanBlZycgfHwgZmlsZS5yYXcudHlwZSA9PT0gJ2ltYWdlL3BuZycpIHsKICAgIC8vICAgCiAgICAvLyAgIGlzSU1BR0UgPSB0cnVlCiAgICAvLyB9CiAgICAvLyBpZiAoIWlzSU1BR0UpIHsKICAgIC8vICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKChlbGVtZW50OmFueSwgaW5kZXg6YW55KSA9PiB7CiAgICAvLyAgICAgaWYgKGZpbGUucmF3Lm5hbWUgPT09IGVsZW1lbnQubmFtZSkgewogICAgLy8gICAgICAgZmlsZUxpc3Quc3BsaWNlKGluZGV4LCAxKQogICAgLy8gICAgICAgdGhpcy5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAvLyAgICAgfQogICAgLy8gICB9KQogICAgLy8gICB0aGlzLiRtZXNzYWdlLmVycm9yKCdBdmF0YXIgcGljdHVyZSBtdXN0IGJlIEpQRyBmb3JtYXQhJykKICAgIC8vIH0gZWxzZSB7CiAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdDsKICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgdGhpcy5pbWFnZUVkaXRlZCA9IHRydWU7CiAgICAgICAgdGhpcy5lZGl0TGlzdC5wdXNoKGZpbGUpOwogICAgICB9CiAgICB9OwogICAgaW1nLnNyYyA9IGZpbGUudXJsOwogIH0KICBoYW5kbGVQaWN0dXJlQ2FyZFByZXZpZXcoZmlsZSkgewogICAgdGhpcy5kaWFsb2dJbWFnZVVybCA9IGZpbGUudXJsOwogICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdHJ1ZTsKICB9CiAgaGFuZGxlUmVtb3ZlKGZpbGUpIHsKICAgIHRoaXMuZmlsZUxpc3QuZm9yRWFjaCgocGhvdG8sIGluZGV4KSA9PiB7CiAgICAgIGlmIChwaG90by5uYW1lID09PSBmaWxlLm5hbWUpIHsKICAgICAgICB0aGlzLmZpbGVMaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgdGhpcy5wb3N0Rm9ybS5wcm9kdWN0SW1hZ2VzLnNwbGljZShpbmRleCwgMSk7IC8vIHRoaXMucGhvdG9zLnNwbGljZShpbmRleCwgMSkKICAgICAgfQogICAgfSk7CiAgfQogIC8vIEltYWdlIHVwbG9hZCBzaXplIGNoZWNrCiAgYmVmb3JlVXBsb2FkKGZpbGUpIHsKICAgIHZhciBpc0lNQUdFID0gZmFsc2U7CiAgICBpZiAoZmlsZS5yYXcudHlwZSA9PT0gJ2ltYWdlL2pwZWcnIHx8IGZpbGUucmF3LnR5cGUgPT09ICdpbWFnZS9wbmcnKSB7CiAgICAgIGlzSU1BR0UgPSB0cnVlOwogICAgfQogICAgaWYgKCFpc0lNQUdFKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ0F2YXRhciBwaWN0dXJlIG11c3QgYmUgSlBHIGZvcm1hdCEnKTsKICAgIH0KICAgIHJldHVybiBpc0lNQUdFOwogIH0KICBhc3luYyBmaW5hbFVwbG9hZCgpIHsKICAgIGlmICghdGhpcy5pc0VkaXQpIHsKICAgICAgY29uc3QgZm9ybUxpc3QgPSBbXTsKICAgICAgY29uc3QgY2FsbExpc3QgPSBbXTsKICAgICAgdGhpcy5maWxlTGlzdC5mb3JFYWNoKGZpbGUgPT4gewogICAgICAgIHZhciBmaWxlT2JqID0gZmlsZS5yYXc7CiAgICAgICAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtLmFwcGVuZCgnZmlsZScsIGZpbGVPYmopOwogICAgICAgIGZvcm1MaXN0LnB1c2goZm9ybSk7CiAgICAgIH0pOwogICAgICBhd2FpdCBmb3JtTGlzdC5mb3JFYWNoKGFzeW5jIGZvcm0gPT4gewogICAgICAgIGNhbGxMaXN0LnB1c2goKDAsIF9jb21tb24udXBsb2FkRmlsZSkoZm9ybSwgYXN5bmMgZXZlbnQgPT4gewogICAgICAgICAgY29uc29sZS5sb2coZXZlbnQpOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICAgIGF3YWl0IF9heGlvcy5kZWZhdWx0LmFsbChjYWxsTGlzdCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucG9zdEZvcm0ucHJvZHVjdEltYWdlcyA9IHJlczsKICAgICAgfSk7CiAgICB9IGVsc2UgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgIGNvbnN0IGZvcm1MaXN0ID0gW107CiAgICAgIGNvbnN0IGNhbGxMaXN0ID0gW107CiAgICAgIHRoaXMuZWRpdExpc3QuZm9yRWFjaChmaWxlID0+IHsKICAgICAgICB2YXIgZmlsZU9iaiA9IGZpbGUucmF3OwogICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBmaWxlT2JqKTsKICAgICAgICBmb3JtTGlzdC5wdXNoKGZvcm0pOwogICAgICB9KTsKICAgICAgYXdhaXQgZm9ybUxpc3QuZm9yRWFjaChhc3luYyBmb3JtID0+IHsKICAgICAgICBjYWxsTGlzdC5wdXNoKCgwLCBfY29tbW9uLnVwbG9hZEZpbGUpKGZvcm0sIGFzeW5jIGV2ZW50ID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50KTsKICAgICAgICB9KSk7CiAgICAgIH0pOwogICAgICBhd2FpdCBfYXhpb3MuZGVmYXVsdC5hbGwoY2FsbExpc3QpLnRoZW4oYXN5bmMgcmVzID0+IHsKICAgICAgICByZXMuZm9yRWFjaChyZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnBvc3RGb3JtLnByb2R1Y3RJbWFnZXMucHVzaChyZXNwb25zZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KICBnZXQgbGFuZygpIHsKICAgIHJldHVybiBfYXBwLkFwcE1vZHVsZS5sYW5ndWFnZTsKICB9CiAgY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMuZmV0Y2hVbml0cygpCiAgICB0aGlzLmZldGNoT3B0aW9uKCk7CiAgICB0aGlzLmZldGNoT3B0aW9uVmFsdWVzKCk7CiAgICB0aGlzLmZldGNoR3N0KCk7CiAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgY29uc3QgaWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMgJiYgdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLmZldGNoRGF0YShwYXJzZUludChpZCkpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5wb3N0Rm9ybSA9IE9iamVjdC5hc3NpZ24oe30sIF9wcm9kdWN0LmRlZmF1bHRQcm9kdWN0RGF0YSk7CiAgICAgIHRoaXMucG9zdEZvcm0uY2F0ZWdvcmllc0lkID0gcGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5jYXRlZ29yaWVzSWQpOwogICAgICBpZiAocGFyc2VJbnQodGhpcy4kcm91dGUucGFyYW1zICYmIHRoaXMuJHJvdXRlLnBhcmFtcy5zdWJDYXRlZ29yeUlkKSkgewogICAgICAgIHRoaXMucG9zdEZvcm0uc3ViQ2F0ZWdvcnlJZCA9IHBhcnNlSW50KHRoaXMuJHJvdXRlLnBhcmFtcyAmJiB0aGlzLiRyb3V0ZS5wYXJhbXMuc3ViQ2F0ZWdvcnlJZCk7CiAgICAgIH0KICAgIH0KICAgIC8vIFdoeSBuZWVkIHRvIG1ha2UgYSBjb3B5IG9mIHRoaXMuJHJvdXRlIGhlcmU/CiAgICAvLyBCZWNhdXNlIGlmIHlvdSBlbnRlciB0aGlzIHBhZ2UgYW5kIHF1aWNrbHkgc3dpdGNoIHRhZywgbWF5IGJlIGluIHRoZSBleGVjdXRpb24gb2YgdGhpcy5zZXRUYWdzVmlld1RpdGxlIGZ1bmN0aW9uLCB0aGlzLiRyb3V0ZSBpcyBubyBsb25nZXIgcG9pbnRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZQogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL1BhbkppYUNoZW4vdnVlLWVsZW1lbnQtYWRtaW4vaXNzdWVzLzEyMjEKICAgIHRoaXMudGVtcFRhZ1ZpZXcgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLiRyb3V0ZSk7CiAgfQogIGFzeW5jIGZldGNoRGF0YShpZCkgewogICAgdHJ5IHsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0ICgwLCBfcHJvZHVjdC5nZXRQcm9kdWN0QnlJZCkoaWQpOwogICAgICB0aGlzLnBvc3RGb3JtID0gZGF0YS5wcm9kdWN0OwogICAgICB0aGlzLnJlbmRlcktleSsrOwogICAgICB0aGlzLmltYWdlID0gZGF0YS5wcm9kdWN0LmltYWdlOwogICAgICBkYXRhLnByb2R1Y3QucHJvZHVjdEltYWdlcy5mb3JFYWNoKChpbWFnZSwgaW5kZXgpID0+IHsKICAgICAgICB0aGlzLmZpbGVMaXN0LnB1c2goewogICAgICAgICAgbmFtZTogJ2ltYWdlMScgKyBpbmRleCwKICAgICAgICAgIHVybDogaW1hZ2UKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIC8vIEp1c3QgZm9yIHRlc3QKICAgICAgLy8gY29uc3QgdGl0bGUgPSB0aGlzLnBvc3RGb3JtLnRpdGxlID8gdGhpcy5wb3N0Rm9ybS50aXRsZSA6ICcnCiAgICAgIC8vIFNldCB0YWdzdmlldyB0aXRsZQogICAgICAvLyB0aGlzLnNldFRhZ3NWaWV3VGl0bGUodGl0bGUpCiAgICAgIC8vIFNldCBwYWdlIHRpdGxlCiAgICAgIC8vIHRoaXMuc2V0UGFnZVRpdGxlKHRpdGxlKQogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIFByb21pc2UucmVqZWN0KGVycik7CiAgICB9CiAgfQogIGFzeW5jIGZldGNoT3B0aW9uKCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5vcHRpb25zTGlzdCA9IGF3YWl0ICgwLCBfb3B0aW9uLmdldE9wdGlvbnMpKCgwLCBfdXRpbHMuZ2V0UXVlcnkpKHsKICAgICAgICBlbmFibGVkOiB0cnVlLAogICAgICAgIGZpbHRlcjogewogICAgICAgICAgZW5hYmxlZDogJ2VxJwogICAgICAgIH0KICAgICAgfSkpOwogICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgIFByb21pc2UucmVqZWN0KGVycik7CiAgICB9CiAgfQogIGFzeW5jIGZldGNoT3B0aW9uVmFsdWVzKCkgewogICAgdHJ5IHsKICAgICAgdGhpcy5vcHRpb25WYWx1ZXNMaXN0ID0gYXdhaXQgKDAsIF9vcHRpb25WYWx1ZXMuZ2V0T3B0aW9uVmFsdWVzKSgoMCwgX3V0aWxzLmdldFF1ZXJ5KSh7CiAgICAgICAgZW5hYmxlZDogdHJ1ZSwKICAgICAgICBmaWx0ZXI6IHt9CiAgICAgIH0pKTsKICAgIH0gY2F0Y2ggKGVycikgewogICAgICBQcm9taXNlLnJlamVjdChlcnIpOwogICAgfQogIH0KICBhc3luYyBmZXRjaEdzdCgpIHsKICAgIHRyeSB7CiAgICAgIHRoaXMuZ3N0TGlzdCA9IGF3YWl0ICgwLCBfZ3N0LmdldEdzdCkoKDAsIF91dGlscy5nZXRRdWVyeSkoewogICAgICAgIGVuYWJsZWQ6IHRydWUsCiAgICAgICAgZmlsdGVyOiB7CiAgICAgICAgICBlbmFibGVkOiAnZXEnCiAgICAgICAgfQogICAgICB9KSk7CiAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgUHJvbWlzZS5yZWplY3QoZXJyKTsKICAgIH0KICB9CiAgc2V0VGFnc1ZpZXdUaXRsZSh0aXRsZSkgewogICAgY29uc3QgdGFnVmlldyA9IHRoaXMudGVtcFRhZ1ZpZXc7CiAgICBpZiAodGFnVmlldykgewogICAgICB0YWdWaWV3LnRpdGxlID0gYCR7dGl0bGV9LSR7dGhpcy5wb3N0Rm9ybS5pZH1gOwogICAgICBfdGFnc1ZpZXcuVGFnc1ZpZXdNb2R1bGUudXBkYXRlVmlzaXRlZFZpZXcodGFnVmlldyk7CiAgICB9CiAgfQogIHNldFBhZ2VUaXRsZSh0aXRsZSkgewogICAgZG9jdW1lbnQudGl0bGUgPSBgJHt0aXRsZX0gLSAke3RoaXMucG9zdEZvcm0uaWR9YDsKICB9CiAgYXN5bmMgc3VibWl0Rm9ybSgpIHsKICAgIHRoaXMuJHJlZnMucG9zdEZvcm0udmFsaWRhdGUodmFsaWQgPT4gewogICAgICBpZiAodmFsaWQpIHsKICAgICAgICB0aGlzLnNhdmVGb3JtKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9KTsKICB9CiAgcmVzZXRGb3JtKCkgewogICAgdGhpcy4kcmVmcy5wb3N0Rm9ybS5yZXNldEZpZWxkcygpOwogICAgdGhpcy5pbWFnZSA9ICdodHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vMzAwJzsKICAgIHRoaXMuZmlsZUxpc3QgPSBbXTsKICAgIHRoaXMucmVuZGVyS2V5LS07CiAgICB0aGlzLnBvc3RGb3JtLmltYWdlID0gJyc7CiAgfQogIGFzeW5jIHNhdmVGb3JtKCkgewogICAgdHJ5IHsKICAgICAgYXdhaXQgdGhpcy5maW5hbFVwbG9hZCgpOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBpZiAodGhpcy5pc0VkaXQpIHsKICAgICAgICBpZiAodGhpcy5pbWFnZUVkaXRlZCkgewogICAgICAgICAgLy8gYXdhaXQgdGhpcy5maW5hbFVwbG9hZCgpCiAgICAgICAgfQogICAgICAgIHRoaXMucG9zdEZvcm0uZ3N0ID0gewogICAgICAgICAgaWQ6IHRoaXMucG9zdEZvcm0uZ3N0SWQKICAgICAgICB9OwogICAgICAgIGF3YWl0ICgwLCBfcHJvZHVjdC51cGRhdGVQcm9kdWN0KSh0aGlzLnBvc3RGb3JtLmlkLCB0aGlzLnBvc3RGb3JtKTsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JywKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIGR1cmF0aW9uOiAyMDAwCiAgICAgICAgfSk7CiAgICAgICAgLy8gaWYgKHRoaXMucG9zdEZvcm0uc3ViQ2F0ZWdvcnlJZCkgewogICAgICAgIC8vICAgcm91dGVyLnB1c2goCiAgICAgICAgLy8gICAgICcvcHJvZHVjdC9saXN0LycgKwogICAgICAgIC8vICAgICAgIHRoaXMucG9zdEZvcm0uY2F0ZWdvcmllc0lkICsKICAgICAgICAvLyAgICAgICAnLycgKwogICAgICAgIC8vICAgICAgIHRoaXMucG9zdEZvcm0uc3ViQ2F0ZWdvcnlJZAogICAgICAgIC8vICAgKQogICAgICAgIC8vIH0gZWxzZSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3JvdXRlci5kZWZhdWx0LnB1c2goJy9wcm9kdWN0L2xpc3QvJyArIHRoaXMucG9zdEZvcm0uY2F0ZWdvcmllc0lkKTsKICAgICAgICAvLyB9CiAgICAgICAgLy8gLmNhdGNoKChlcnJvcjogYW55KSA9PiB7CiAgICAgICAgLy8gICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIC8vICAgdGhpcy4kbWVzc2FnZS5lcnJvcignc29tZSBlcnJvciBvY2N1cmVkLicpCiAgICAgICAgLy8gICBjb25zb2xlLmxvZyhlcnJvcikKICAgICAgICAvLyB9KQogICAgICB9IGVsc2UgewogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIGF3YWl0ICgwLCBfcHJvZHVjdC5hZGRQcm9kdWN0KSh0aGlzLnBvc3RGb3JtKTsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICdTdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICdEYXRhIHNhdmVkIHN1Y2Nlc3NmdWxseScsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBkdXJhdGlvbjogMjAwMAogICAgICAgIH0pOwogICAgICAgIGRlYnVnZ2VyOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF9yb3V0ZXIuZGVmYXVsdC5wdXNoKCcvcHJvZHVjdC9saXN0LycgKyB0aGlzLnBvc3RGb3JtLmNhdGVnb3JpZXNJZCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn07CigwLCBfdHNsaWIuX19kZWNvcmF0ZSkoWygwLCBfdnVlUHJvcGVydHlEZWNvcmF0b3IuUHJvcCkoewogIGRlZmF1bHQ6IGZhbHNlCn0pXSwgZGVmYXVsdF8xLnByb3RvdHlwZSwgImlzRWRpdCIsIHZvaWQgMCk7CigwLCBfdHNsaWIuX19kZWNvcmF0ZSkoW192dWV4TW9kdWxlRGVjb3JhdG9ycy5BY3Rpb25dLCBkZWZhdWx0XzEucHJvdG90eXBlLCAic2F2ZUZvcm0iLCBudWxsKTsKZGVmYXVsdF8xID0gKDAsIF90c2xpYi5fX2RlY29yYXRlKShbKDAsIF92dWVQcm9wZXJ0eURlY29yYXRvci5Db21wb25lbnQpKHsKICBuYW1lOiAnVHlwZURldGFpbCcsCiAgY29tcG9uZW50czogewogICAgUGFuVGh1bWI6IF9pbmRleC5kZWZhdWx0LAogICAgQXZhdGFyVXBsb2FkOiBfaW5kZXgyLmRlZmF1bHQsCiAgICBVcGxvYWRJbWFnZTogX2luZGV4My5kZWZhdWx0CiAgfQp9KV0sIGRlZmF1bHRfMSk7CnZhciBfZGVmYXVsdCA9IGRlZmF1bHRfMTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},null]}