{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js??ref--15-2!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/pwa/components/ServiceWorkerUpdatePopup.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/pwa/components/ServiceWorkerUpdatePopup.vue","mtime":1668754947370},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/babel.config.js","mtime":1668754947334},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/ts-loader/index.js","mtime":1650280622125},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfdHNsaWIgPSByZXF1aXJlKCJ0c2xpYiIpOwp2YXIgX3Z1ZVByb3BlcnR5RGVjb3JhdG9yID0gcmVxdWlyZSgidnVlLXByb3BlcnR5LWRlY29yYXRvciIpOwpsZXQgZGVmYXVsdF8xID0gY2xhc3MgZXh0ZW5kcyBfdnVlUHJvcGVydHlEZWNvcmF0b3IuVnVlIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICB0aGlzLnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgIHRoaXMubm90aWZpY2F0aW9uVGV4dCA9ICdOZXcgY29udGVudCBpcyBhdmFpbGFibGUhJzsKICAgIHRoaXMucmVmcmVzaEJ1dHRvblRleHQgPSAnUmVmcmVzaCc7CiAgICB0aGlzLnJlZ2lzdHJhdGlvbiA9IG51bGw7CiAgfQogIGNyZWF0ZWQoKSB7CiAgICAvLyBMaXN0ZW4gZm9yIHN3VXBkYXRlZCBldmVudCBhbmQgZGlzcGxheSByZWZyZXNoIG5vdGlmaWNhdGlvbiBhcyByZXF1aXJlZC4KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N3VXBkYXRlZCcsIHRoaXMuc2hvd1JlZnJlc2hVSSwgewogICAgICBvbmNlOiB0cnVlCiAgICB9KTsKICAgIC8vIFJlZnJlc2ggYWxsIG9wZW4gYXBwIHRhYnMgd2hlbiBhIG5ldyBzZXJ2aWNlIHdvcmtlciBpcyBpbnN0YWxsZWQuCiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5hZGRFdmVudExpc3RlbmVyKCdjb250cm9sbGVyY2hhbmdlJywgKCkgPT4gewogICAgICBpZiAodGhpcy5yZWZyZXNoaW5nKSByZXR1cm47CiAgICAgIHRoaXMucmVmcmVzaGluZyA9IHRydWU7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgIH0pOwogIH0KICByZW5kZXIoKSB7CiAgICAvLyBBdm9pZCB3YXJuaW5nIGZvciBtaXNzaW5nIHRlbXBsYXRlCiAgfQogIHNob3dSZWZyZXNoVUkoZSkgewogICAgLy8gRGlzcGxheSBhIG5vdGlmaWNhdGlvbiBpbnZpdGluZyB0aGUgdXNlciB0byByZWZyZXNoL3JlbG9hZCB0aGUgYXBwIGR1ZQogICAgLy8gdG8gYW4gYXBwIHVwZGF0ZSBiZWluZyBhdmFpbGFibGUuCiAgICAvLyBUaGUgbmV3IHNlcnZpY2Ugd29ya2VyIGlzIGluc3RhbGxlZCwgYnV0IG5vdCB5ZXQgYWN0aXZlLgogICAgLy8gU3RvcmUgdGhlIFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24gaW5zdGFuY2UgZm9yIGxhdGVyIHVzZS4KICAgIGNvbnN0IGggPSB0aGlzLiRjcmVhdGVFbGVtZW50OwogICAgdGhpcy5yZWdpc3RyYXRpb24gPSBlLmRldGFpbDsKICAgIHRoaXMuJG5vdGlmeS5pbmZvKHsKICAgICAgdGl0bGU6ICdVcGRhdGUgYXZhaWxhYmxlJywKICAgICAgbWVzc2FnZTogaCgnZGl2JywgewogICAgICAgIGNsYXNzOiAnc3ctdXBkYXRlLXBvcHVwJwogICAgICB9LCBbdGhpcy5ub3RpZmljYXRpb25UZXh0LCBoKCdicicpLCBoKCdidXR0b24nLCB7CiAgICAgICAgb246IHsKICAgICAgICAgIGNsaWNrOiBlID0+IHsKICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICB0aGlzLnJlZnJlc2hBcHAoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHRoaXMucmVmcmVzaEJ1dHRvblRleHQpXSksCiAgICAgIHBvc2l0aW9uOiAnYm90dG9tLXJpZ2h0JywKICAgICAgZHVyYXRpb246IDAKICAgIH0pOwogIH0KICByZWZyZXNoQXBwKCkgewogICAgLy8gUHJvdGVjdCBhZ2FpbnN0IG1pc3NpbmcgcmVnaXN0cmF0aW9uLndhaXRpbmcuCiAgICBpZiAoIXRoaXMucmVnaXN0cmF0aW9uIHx8ICF0aGlzLnJlZ2lzdHJhdGlvbi53YWl0aW5nKSByZXR1cm47CiAgICB0aGlzLnJlZ2lzdHJhdGlvbi53YWl0aW5nLnBvc3RNZXNzYWdlKCdza2lwV2FpdGluZycpOwogIH0KfTsKZGVmYXVsdF8xID0gKDAsIF90c2xpYi5fX2RlY29yYXRlKShbKDAsIF92dWVQcm9wZXJ0eURlY29yYXRvci5Db21wb25lbnQpKHsKICBuYW1lOiAnU2VydmljZVdvcmtlclVwZGF0ZVBvcHVwJwp9KV0sIGRlZmF1bHRfMSk7CnZhciBfZGVmYXVsdCA9IGRlZmF1bHRfMTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;AACA;AAKA,8BAA6BA,yBAAG;EAAhCC;;IACU,eAAU,GAAG,KAAK;IAClB,qBAAgB,GAAG,2BAA2B;IAC9C,sBAAiB,GAAG,SAAS;IAC7B,iBAAY,GAAqC,IAAI;EAgD/D;EA9CEC,OAAO;IACL;IACAC,QAAQ,CAACC,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACC,aAAa,EAAE;MAAEC,IAAI,EAAE;IAAI,CAAE,CAAC;IAC1E;IACAC,SAAS,CAACC,aAAa,CAACJ,gBAAgB,CAAC,kBAAkB,EAAE,MAAK;MAChE,IAAI,IAAI,CAACK,UAAU,EAAE;MACrB,IAAI,CAACA,UAAU,GAAG,IAAI;MACtBC,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAC,MAAM;IACJ;EAAA;EAGMR,aAAa,CAACS,CAAQ;IAC5B;IACA;IACA;IACA;IACA,MAAMC,CAAC,GAAG,IAAI,CAACC,cAAc;IAC7B,IAAI,CAACC,YAAY,GAAIH,CAAiB,CAACI,MAAM;IAC7C,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;MAChBC,KAAK,EAAE,kBAAkB;MACzBC,OAAO,EAAEP,CAAC,CAAC,KAAK,EAAE;QAAEQ,KAAK,EAAE;MAAiB,CAAE,EAAE,CAC9C,IAAI,CAACC,gBAAgB,EACrBT,CAAC,CAAC,IAAI,CAAC,EACPA,CAAC,CAAC,QAAQ,EAAE;QACVU,EAAE,EAAE;UACFC,KAAK,EAAGZ,CAAQ,IAAI;YAClBA,CAAC,CAACa,cAAc,EAAE;YAClB,IAAI,CAACC,UAAU,EAAE;UACnB;;OAEH,EAAE,IAAI,CAACC,iBAAiB,CAAC,CAC3B,CAAC;MACFC,QAAQ,EAAE,cAAc;MACxBC,QAAQ,EAAE;KACX,CAAC;EACJ;EAEQH,UAAU;IAChB;IACA,IAAI,CAAC,IAAI,CAACX,YAAY,IAAI,CAAC,IAAI,CAACA,YAAY,CAACe,OAAO,EAAE;IACtD,IAAI,CAACf,YAAY,CAACe,OAAO,CAACC,WAAW,CAAC,aAAa,CAAC;EACtD;CACD;AApDDC,oCAHC,mCAAS,EAAC;EACTC,IAAI,EAAE;CACP,CAAC,aAqDD;AAAA","names":["Vue","constructor","created","document","addEventListener","showRefreshUI","once","navigator","serviceWorker","refreshing","window","location","reload","render","e","h","$createElement","registration","detail","$notify","info","title","message","class","notificationText","on","click","preventDefault","refreshApp","refreshButtonText","position","duration","waiting","postMessage","default_1","name"],"sourceRoot":"","sources":["/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/src/pwa/components/ServiceWorkerUpdatePopup.vue?vue&type=script&lang=ts&"],"sourcesContent":["\nimport { Component, Vue } from 'vue-property-decorator'\n\n@Component({\n  name: 'ServiceWorkerUpdatePopup'\n})\nexport default class extends Vue {\n  private refreshing = false\n  private notificationText = 'New content is available!'\n  private refreshButtonText = 'Refresh'\n  private registration: ServiceWorkerRegistration | null = null\n\n  created() {\n    // Listen for swUpdated event and display refresh notification as required.\n    document.addEventListener('swUpdated', this.showRefreshUI, { once: true })\n    // Refresh all open app tabs when a new service worker is installed.\n    navigator.serviceWorker.addEventListener('controllerchange', () => {\n      if (this.refreshing) return\n      this.refreshing = true\n      window.location.reload()\n    })\n  }\n\n  render() {\n    // Avoid warning for missing template\n  }\n\n  private showRefreshUI(e: Event) {\n    // Display a notification inviting the user to refresh/reload the app due\n    // to an app update being available.\n    // The new service worker is installed, but not yet active.\n    // Store the ServiceWorkerRegistration instance for later use.\n    const h = this.$createElement\n    this.registration = (e as CustomEvent).detail\n    this.$notify.info({\n      title: 'Update available',\n      message: h('div', { class: 'sw-update-popup' }, [\n        this.notificationText,\n        h('br'),\n        h('button', {\n          on: {\n            click: (e: Event) => {\n              e.preventDefault()\n              this.refreshApp()\n            }\n          }\n        }, this.refreshButtonText)\n      ]),\n      position: 'bottom-right',\n      duration: 0\n    })\n  }\n\n  private refreshApp() {\n    // Protect against missing registration.waiting.\n    if (!this.registration || !this.registration.waiting) return\n    this.registration.waiting.postMessage('skipWaiting')\n  }\n}\n"]}]}