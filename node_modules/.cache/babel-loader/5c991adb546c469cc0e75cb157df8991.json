{"remainingRequest":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/thread-loader/dist/cjs.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-image-crop-upload/upload-2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-image-crop-upload/upload-2.vue","mtime":1655274283581},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/babel.config.js","mtime":1668754947334},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/thread-loader/dist/cjs.js","mtime":1655274288448},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/babel-loader/lib/index.js","mtime":1668596430903},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/cache-loader/dist/cjs.js","mtime":1655274288430},{"path":"/home/algoocean/Desktop/AOT-Project/myvarni-admin/node_modules/vue-loader/lib/index.js","mtime":1668596436320}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9hbGdvb2NlYW4vRGVza3RvcC9BT1QtUHJvamVjdC9teXZhcm5pLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX2xhbmd1YWdlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3V0aWxzL2xhbmd1YWdlLmpzIikpOwp2YXIgX21pbWVzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3V0aWxzL21pbWVzLmpzIikpOwp2YXIgX2RhdGEyYmxvYiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi91dGlscy9kYXRhMmJsb2IuanMiKSk7CnZhciBfZWZmZWN0UmlwcGxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL3V0aWxzL2VmZmVjdFJpcHBsZS5qcyIpKTsKdmFyIF9kZWZhdWx0ID0gewogIHByb3BzOiB7CiAgICAvLyDln5/vvIzkuIrkvKDmlofku7ZuYW1l77yM6Kem5Y+R5LqL5Lu25Lya5bim5LiK77yI5aaC5p6c5LiA5Liq6aG16Z2i5aSa5Liq5Zu+54mH5LiK5Lyg5o6n5Lu277yM5Y+v5Lul5YGa5Yy65YiGCiAgICBmaWVsZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ2F2YXRhcicKICAgIH0sCiAgICAvLyDljp/lkI1rZXnvvIznsbvkvLzkuo5pZO+8jOinpuWPkeS6i+S7tuS8muW4puS4iu+8iOWmguaenOS4gOS4qumhtemdouWkmuS4quWbvueJh+S4iuS8oOaOp+S7tu+8jOWPr+S7peWBmuWMuuWIhgogICAga2k6IHsKICAgICAgJ2RlZmF1bHQnOiAwCiAgICB9LAogICAgLy8g5pi+56S66K+l5o6n5Lu25LiO5ZCmCiAgICB2YWx1ZTogewogICAgICAnZGVmYXVsdCc6IHRydWUKICAgIH0sCiAgICAvLyDkuIrkvKDlnLDlnYAKICAgIHVybDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJycKICAgIH0sCiAgICAvLyDlhbbku5bopoHkuIrkvKDmlofku7bpmYTluKbnmoTmlbDmja7vvIzlr7nosaHmoLzlvI8KICAgIHBhcmFtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICdkZWZhdWx0JzogbnVsbAogICAgfSwKICAgIC8vQWRkIGN1c3RvbSBoZWFkZXJzCiAgICBoZWFkZXJzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgJ2RlZmF1bHQnOiBudWxsCiAgICB9LAogICAgLy8g5Ymq6KOB5Zu+54mH55qE5a69CiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIC8vIOWJquijgeWbvueJh+eahOmrmAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMjAwCiAgICB9LAogICAgLy8g5LiN5pi+56S65peL6L2s5Yqf6IO9CiAgICBub1JvdGF0ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgLy8g5LiN6aKE6KeI5ZyG5b2i5Zu+54mHCiAgICBub0NpcmNsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOS4jemihOiniOaWueW9ouWbvueJhwogICAgbm9TcXVhcmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDljZXmlofku7blpKflsI/pmZDliLYKICAgIG1heFNpemU6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICAnZGVmYXVsdCc6IDEwMjQwCiAgICB9LAogICAgLy8g6K+t6KiA57G75Z6LCiAgICBsYW5nVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ3poJwogICAgfSwKICAgIC8vIOivreiogOWMhQogICAgbGFuZ0V4dDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgICdkZWZhdWx0JzogbnVsbAogICAgfSwKICAgIC8vIOWbvueJh+S4iuS8oOagvOW8jwogICAgaW1nRm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgJ2RlZmF1bHQnOiAncG5nJwogICAgfSwKICAgIC8vIOWbvueJh+iDjOaZryBqcGfmg4XlhrXkuIvnlJ/mlYgKICAgIGltZ0JnYzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJyNmZmYnCiAgICB9LAogICAgLy8g5piv5ZCm5pSv5oyB6Leo5Z+fCiAgICB3aXRoQ3JlZGVudGlhbHM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgJ2RlZmF1bHQnOiBmYWxzZQogICAgfSwKICAgIG1ldGhvZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgICdkZWZhdWx0JzogJ1BPU1QnCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgbGV0IHRoYXQgPSB0aGlzLAogICAgICB7CiAgICAgICAgaW1nRm9ybWF0LAogICAgICAgIGxhbmdUeXBlLAogICAgICAgIGxhbmdFeHQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0gPSB0aGF0LAogICAgICBpc1N1cHBvcnRlZCA9IHRydWUsCiAgICAgIGFsbG93SW1nRm9ybWF0ID0gWydqcGcnLCAncG5nJ10sCiAgICAgIHRlbXBJbWdGb3JtYXQgPSBhbGxvd0ltZ0Zvcm1hdC5pbmRleE9mKGltZ0Zvcm1hdCkgPT09IC0xID8gJ2pwZycgOiBpbWdGb3JtYXQsCiAgICAgIGxhbmcgPSBfbGFuZ3VhZ2UuZGVmYXVsdFtsYW5nVHlwZV0gPyBfbGFuZ3VhZ2UuZGVmYXVsdFtsYW5nVHlwZV0gOiBfbGFuZ3VhZ2UuZGVmYXVsdFsnZW4nXSwKICAgICAgbWltZSA9IF9taW1lcy5kZWZhdWx0W3RlbXBJbWdGb3JtYXRdOwogICAgLy8g6KeE6IyD5Zu+54mH5qC85byPCiAgICB0aGF0LmltZ0Zvcm1hdCA9IHRlbXBJbWdGb3JtYXQ7CiAgICBpZiAobGFuZ0V4dCkgewogICAgICBPYmplY3QuYXNzaWduKGxhbmcsIGxhbmdFeHQpOwogICAgfQogICAgaWYgKHR5cGVvZiBGb3JtRGF0YSAhPSAnZnVuY3Rpb24nKSB7CiAgICAgIGlzU3VwcG9ydGVkID0gZmFsc2U7CiAgICB9CiAgICByZXR1cm4gewogICAgICAvLyDlm77niYfnmoRtaW1lCiAgICAgIG1pbWUsCiAgICAgIC8vIOivreiogOWMhQogICAgICBsYW5nLAogICAgICAvLyDmtY/op4jlmajmmK/lkKbmlK/mjIHor6Xmjqfku7YKICAgICAgaXNTdXBwb3J0ZWQsCiAgICAgIC8vIOa1j+iniOWZqOaYr+WQpuaUr+aMgeinpuWxj+S6i+S7tgogICAgICBpc1N1cHBvcnRUb3VjaDogZG9jdW1lbnQuaGFzT3duUHJvcGVydHkoIm9udG91Y2hzdGFydCIpLAogICAgICAvLyDmraXpqqQKICAgICAgc3RlcDogMSwKICAgICAgLy8x6YCJ5oup5paH5Lu2IDLliaroo4EgM+S4iuS8oAoKICAgICAgLy8g5LiK5Lyg54q25oCB5Y+K6L+b5bqmCiAgICAgIGxvYWRpbmc6IDAsCiAgICAgIC8vMOacquW8gOWniyAx5q2j5ZyoIDLmiJDlip8gM+mUmeivrwogICAgICBwcm9ncmVzczogMCwKICAgICAgLy8g5piv5ZCm5pyJ6ZSZ6K+v5Y+K6ZSZ6K+v5L+h5oGvCiAgICAgIGhhc0Vycm9yOiBmYWxzZSwKICAgICAgZXJyb3JNc2c6ICcnLAogICAgICAvLyDpnIDmsYLlm77lrr3pq5jmr5QKICAgICAgcmF0aW86IHdpZHRoIC8gaGVpZ2h0LAogICAgICAvLyDljp/lm77lnLDlnYDjgIHnlJ/miJDlm77niYflnLDlnYAKICAgICAgc291cmNlSW1nOiBudWxsLAogICAgICBzb3VyY2VJbWdVcmw6ICcnLAogICAgICBjcmVhdGVJbWdVcmw6ICcnLAogICAgICAvLyDljp/lm77niYfmi5bliqjkuovku7bliJ3lp4vlgLwKICAgICAgc291cmNlSW1nTW91c2VEb3duOiB7CiAgICAgICAgb246IGZhbHNlLAogICAgICAgIG1YOiAwLAogICAgICAgIC8v6byg5qCH5oyJ5LiL55qE5Z2Q5qCHCiAgICAgICAgbVk6IDAsCiAgICAgICAgeDogMCwKICAgICAgICAvL3NjYWxl5Y6f5Zu+5Z2Q5qCHCiAgICAgICAgeTogMAogICAgICB9LAogICAgICAvLyDnlJ/miJDlm77niYfpooTop4jnmoTlrrnlmajlpKflsI8KICAgICAgcHJldmlld0NvbnRhaW5lcjogewogICAgICAgIHdpZHRoOiAxMDAsCiAgICAgICAgaGVpZ2h0OiAxMDAKICAgICAgfSwKICAgICAgLy8g5Y6f5Zu+5a655Zmo5a696auYCiAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcjogewogICAgICAgIC8vIHNpYwogICAgICAgIHdpZHRoOiAyNDAsCiAgICAgICAgaGVpZ2h0OiAxODQgLy8g5aaC5p6c55Sf5oiQ5Zu+5q+U5L6L5LiO5q2k5LiA6Ie05Lya5Ye6546wYnVn77yM5YWI5pS55oiQ54m55q6K55qE5qC85byP5ZCn77yM5ZOI5ZOI5ZOICiAgICAgIH0sCgogICAgICAvLyDljp/lm77lsZXnpLrlsZ7mgKcKICAgICAgc2NhbGU6IHsKICAgICAgICB6b29tQWRkT246IGZhbHNlLAogICAgICAgIC8v5oyJ6ZKu57yp5pS+5LqL5Lu25byA5ZCvCiAgICAgICAgem9vbVN1Yk9uOiBmYWxzZSwKICAgICAgICAvL+aMiemSrue8qeaUvuS6i+S7tuW8gOWQrwogICAgICAgIHJhbmdlOiAxLAogICAgICAgIC8v5pyA5aSnMTAwCgogICAgICAgIHg6IDAsCiAgICAgICAgeTogMCwKICAgICAgICB3aWR0aDogMCwKICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgbWF4V2lkdGg6IDAsCiAgICAgICAgbWF4SGVpZ2h0OiAwLAogICAgICAgIG1pbldpZHRoOiAwLAogICAgICAgIC8v5pyA5a69CiAgICAgICAgbWluSGVpZ2h0OiAwLAogICAgICAgIG5hdHVyYWxXaWR0aDogMCwKICAgICAgICAvL+WOn+WuvQogICAgICAgIG5hdHVyYWxIZWlnaHQ6IDAKICAgICAgfQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDov5vluqbmnaHmoLflvI8KICAgIHByb2dyZXNzU3R5bGUoKSB7CiAgICAgIGxldCB7CiAgICAgICAgcHJvZ3Jlc3MKICAgICAgfSA9IHRoaXM7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHByb2dyZXNzICsgJyUnCiAgICAgIH07CiAgICB9LAogICAgLy8g5Y6f5Zu+5qC35byPCiAgICBzb3VyY2VJbWdTdHlsZSgpIHsKICAgICAgbGV0IHsKICAgICAgICAgIHNjYWxlLAogICAgICAgICAgc291cmNlSW1nTWFza2luZwogICAgICAgIH0gPSB0aGlzLAogICAgICAgIHRvcCA9IHNjYWxlLnkgKyBzb3VyY2VJbWdNYXNraW5nLnkgKyAncHgnLAogICAgICAgIGxlZnQgPSBzY2FsZS54ICsgc291cmNlSW1nTWFza2luZy54ICsgJ3B4JzsKICAgICAgcmV0dXJuIHsKICAgICAgICB0b3AsCiAgICAgICAgbGVmdCwKICAgICAgICB3aWR0aDogc2NhbGUud2lkdGggKyAncHgnLAogICAgICAgIGhlaWdodDogc2NhbGUuaGVpZ2h0ICsgJ3B4JyAvLyDlhbzlrrkgT3BlcmEKICAgICAgfTsKICAgIH0sCgogICAgLy8g5Y6f5Zu+6JKZ54mI5bGe5oCnCiAgICBzb3VyY2VJbWdNYXNraW5nKCkgewogICAgICBsZXQgewogICAgICAgICAgd2lkdGgsCiAgICAgICAgICBoZWlnaHQsCiAgICAgICAgICByYXRpbywKICAgICAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcgogICAgICAgIH0gPSB0aGlzLAogICAgICAgIHNpYyA9IHNvdXJjZUltZ0NvbnRhaW5lciwKICAgICAgICBzaWNSYXRpbyA9IHNpYy53aWR0aCAvIHNpYy5oZWlnaHQsCiAgICAgICAgLy8g5Y6f5Zu+5a655Zmo5a696auY5q+UCiAgICAgICAgeCA9IDAsCiAgICAgICAgeSA9IDAsCiAgICAgICAgdyA9IHNpYy53aWR0aCwKICAgICAgICBoID0gc2ljLmhlaWdodCwKICAgICAgICBzY2FsZSA9IDE7CiAgICAgIGlmIChyYXRpbyA8IHNpY1JhdGlvKSB7CiAgICAgICAgc2NhbGUgPSBzaWMuaGVpZ2h0IC8gaGVpZ2h0OwogICAgICAgIHcgPSBzaWMuaGVpZ2h0ICogcmF0aW87CiAgICAgICAgeCA9IChzaWMud2lkdGggLSB3KSAvIDI7CiAgICAgIH0KICAgICAgaWYgKHJhdGlvID4gc2ljUmF0aW8pIHsKICAgICAgICBzY2FsZSA9IHNpYy53aWR0aCAvIHdpZHRoOwogICAgICAgIGggPSBzaWMud2lkdGggLyByYXRpbzsKICAgICAgICB5ID0gKHNpYy5oZWlnaHQgLSBoKSAvIDI7CiAgICAgIH0KICAgICAgcmV0dXJuIHsKICAgICAgICBzY2FsZSwKICAgICAgICAvLyDokpnniYjnm7jlr7npnIDmsYLlrr3pq5jnmoTnvKnmlL4KICAgICAgICB4LAogICAgICAgIHksCiAgICAgICAgd2lkdGg6IHcsCiAgICAgICAgaGVpZ2h0OiBoCiAgICAgIH07CiAgICB9LAogICAgLy8g5Y6f5Zu+6YGu572p5qC35byPCiAgICBzb3VyY2VJbWdTaGFkZVN0eWxlKCkgewogICAgICBsZXQgewogICAgICAgICAgc291cmNlSW1nTWFza2luZywKICAgICAgICAgIHNvdXJjZUltZ0NvbnRhaW5lcgogICAgICAgIH0gPSB0aGlzLAogICAgICAgIHNpYyA9IHNvdXJjZUltZ0NvbnRhaW5lciwKICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgIHcgPSBzaW0ud2lkdGggPT0gc2ljLndpZHRoID8gc2ltLndpZHRoIDogKHNpYy53aWR0aCAtIHNpbS53aWR0aCkgLyAyLAogICAgICAgIGggPSBzaW0uaGVpZ2h0ID09IHNpYy5oZWlnaHQgPyBzaW0uaGVpZ2h0IDogKHNpYy5oZWlnaHQgLSBzaW0uaGVpZ2h0KSAvIDI7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHcgKyAncHgnLAogICAgICAgIGhlaWdodDogaCArICdweCcKICAgICAgfTsKICAgIH0sCiAgICBwcmV2aWV3U3R5bGUoKSB7CiAgICAgIGxldCB7CiAgICAgICAgICB3aWR0aCwKICAgICAgICAgIGhlaWdodCwKICAgICAgICAgIHJhdGlvLAogICAgICAgICAgcHJldmlld0NvbnRhaW5lcgogICAgICAgIH0gPSB0aGlzLAogICAgICAgIHBjID0gcHJldmlld0NvbnRhaW5lciwKICAgICAgICB3ID0gcGMud2lkdGgsCiAgICAgICAgaCA9IHBjLmhlaWdodCwKICAgICAgICBwY1JhdGlvID0gdyAvIGg7CiAgICAgIGlmIChyYXRpbyA8IHBjUmF0aW8pIHsKICAgICAgICB3ID0gcGMuaGVpZ2h0ICogcmF0aW87CiAgICAgIH0KICAgICAgaWYgKHJhdGlvID4gcGNSYXRpbykgewogICAgICAgIGggPSBwYy53aWR0aCAvIHJhdGlvOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHcgKyAncHgnLAogICAgICAgIGhlaWdodDogaCArICdweCcKICAgICAgfTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZShuZXdWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgJiYgdGhpcy5sb2FkaW5nICE9IDEpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeCueWHu+azoue6ueaViOaenAogICAgcmlwcGxlKGUpIHsKICAgICAgKDAsIF9lZmZlY3RSaXBwbGUuZGVmYXVsdCkoZSk7CiAgICB9LAogICAgLy8g5YWz6Zet5o6n5Lu2CiAgICBvZmYoKSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgZmFsc2UpOwogICAgICAgIGlmICh0aGlzLnN0ZXAgPT0gMyAmJiB0aGlzLmxvYWRpbmcgPT0gMikgewogICAgICAgICAgdGhpcy5zZXRTdGVwKDEpOwogICAgICAgIH0KICAgICAgfSwgMjAwKTsKICAgIH0sCiAgICAvLyDorr7nva7mraXpqqQKICAgIHNldFN0ZXAobm8pIHsKICAgICAgLy8g5bu25pe25piv5Li65LqG5pi+56S65Yqo55S75pWI5p6c5ZGi77yM5ZOI5ZOI5ZOICiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuc3RlcCA9IG5vOwogICAgICB9LCAyMDApOwogICAgfSwKICAgIC8qIOWbvueJh+mAieaLqeWMuuWfn+WHveaVsOe7keWumg0KICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwogICAgcHJldmVudERlZmF1bHQoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0sCiAgICBoYW5kbGVDbGljayhlKSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcgIT09IDEpIHsKICAgICAgICBpZiAoZS50YXJnZXQgIT09IHRoaXMuJHJlZnMuZmlsZWlucHV0KSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCAhPT0gdGhpcy4kcmVmcykgewogICAgICAgICAgICB0aGlzLiRyZWZzLmZpbGVpbnB1dC5jbGljaygpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNoYW5nZShlKSB7CiAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgaWYgKHRoaXMubG9hZGluZyAhPT0gMSkgewogICAgICAgIGxldCBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzIHx8IGUuZGF0YVRyYW5zZmVyLmZpbGVzOwogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICBpZiAodGhpcy5jaGVja0ZpbGUoZmlsZXNbMF0pKSB7CiAgICAgICAgICB0aGlzLnNldFNvdXJjZUltZyhmaWxlc1swXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCiAgICAvLyDmo4DmtYvpgInmi6nnmoTmlofku7bmmK/lkKblkIjpgIIKICAgIGNoZWNrRmlsZShmaWxlKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcywKICAgICAgICB7CiAgICAgICAgICBsYW5nLAogICAgICAgICAgbWF4U2l6ZQogICAgICAgIH0gPSB0aGF0OwogICAgICAvLyDku4XpmZDlm77niYcKICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZScpID09PSAtMSkgewogICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLm9ubHlJbWc7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICAvLyDotoXlh7rlpKflsI8KICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgPiBtYXhTaXplKSB7CiAgICAgICAgdGhhdC5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgdGhhdC5lcnJvck1zZyA9IGxhbmcuZXJyb3Iub3V0T2ZTaXplICsgbWF4U2l6ZSArICdrYic7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfSwKICAgIC8vIOmHjee9ruaOp+S7tgogICAgcmVzZXQoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgdGhhdC5sb2FkaW5nID0gMDsKICAgICAgdGhhdC5oYXNFcnJvciA9IGZhbHNlOwogICAgICB0aGF0LmVycm9yTXNnID0gJyc7CiAgICAgIHRoYXQucHJvZ3Jlc3MgPSAwOwogICAgfSwKICAgIC8vIOiuvue9ruWbvueJh+a6kAogICAgc2V0U291cmNlSW1nKGZpbGUpIHsKICAgICAgdGhpcy4kZW1pdCgnc3JjLWZpbGUtc2V0JywgZmlsZS5uYW1lLCBmaWxlLnR5cGUsIGZpbGUuc2l6ZSk7CiAgICAgIGxldCB0aGF0ID0gdGhpcywKICAgICAgICBmciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIGZyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdGhhdC5zb3VyY2VJbWdVcmwgPSBmci5yZXN1bHQ7CiAgICAgICAgdGhhdC5zdGFydENyb3AoKTsKICAgICAgfTsKICAgICAgZnIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgIH0sCiAgICAvLyDliaroo4HliY3lh4blpIflt6XkvZwKICAgIHN0YXJ0Q3JvcCgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzLAogICAgICAgIHsKICAgICAgICAgIHdpZHRoLAogICAgICAgICAgaGVpZ2h0LAogICAgICAgICAgcmF0aW8sCiAgICAgICAgICBzY2FsZSwKICAgICAgICAgIHNvdXJjZUltZ1VybCwKICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgICBsYW5nCiAgICAgICAgfSA9IHRoYXQsCiAgICAgICAgc2ltID0gc291cmNlSW1nTWFza2luZywKICAgICAgICBpbWcgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1nLnNyYyA9IHNvdXJjZUltZ1VybDsKICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBsZXQgbldpZHRoID0gaW1nLm5hdHVyYWxXaWR0aCwKICAgICAgICAgIG5IZWlnaHQgPSBpbWcubmF0dXJhbEhlaWdodCwKICAgICAgICAgIG5SYXRpbyA9IG5XaWR0aCAvIG5IZWlnaHQsCiAgICAgICAgICB3ID0gc2ltLndpZHRoLAogICAgICAgICAgaCA9IHNpbS5oZWlnaHQsCiAgICAgICAgICB4ID0gMCwKICAgICAgICAgIHkgPSAwOwogICAgICAgIC8vIOWbvueJh+WDj+e0oOS4jei+vuaghwogICAgICAgIGlmIChuV2lkdGggPCB3aWR0aCB8fCBuSGVpZ2h0IDwgaGVpZ2h0KSB7CiAgICAgICAgICB0aGF0Lmhhc0Vycm9yID0gdHJ1ZTsKICAgICAgICAgIHRoYXQuZXJyb3JNc2cgPSBsYW5nLmVycm9yLmxvd2VzdFB4ICsgd2lkdGggKyAnKicgKyBoZWlnaHQ7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGlmIChyYXRpbyA+IG5SYXRpbykgewogICAgICAgICAgaCA9IHcgLyBuUmF0aW87CiAgICAgICAgICB5ID0gKHNpbS5oZWlnaHQgLSBoKSAvIDI7CiAgICAgICAgfQogICAgICAgIGlmIChyYXRpbyA8IG5SYXRpbykgewogICAgICAgICAgdyA9IGggKiBuUmF0aW87CiAgICAgICAgICB4ID0gKHNpbS53aWR0aCAtIHcpIC8gMjsKICAgICAgICB9CiAgICAgICAgc2NhbGUucmFuZ2UgPSAwOwogICAgICAgIHNjYWxlLnggPSB4OwogICAgICAgIHNjYWxlLnkgPSB5OwogICAgICAgIHNjYWxlLndpZHRoID0gdzsKICAgICAgICBzY2FsZS5oZWlnaHQgPSBoOwogICAgICAgIHNjYWxlLm1pbldpZHRoID0gdzsKICAgICAgICBzY2FsZS5taW5IZWlnaHQgPSBoOwogICAgICAgIHNjYWxlLm1heFdpZHRoID0gbldpZHRoICogc2ltLnNjYWxlOwogICAgICAgIHNjYWxlLm1heEhlaWdodCA9IG5IZWlnaHQgKiBzaW0uc2NhbGU7CiAgICAgICAgc2NhbGUubmF0dXJhbFdpZHRoID0gbldpZHRoOwogICAgICAgIHNjYWxlLm5hdHVyYWxIZWlnaHQgPSBuSGVpZ2h0OwogICAgICAgIHRoYXQuc291cmNlSW1nID0gaW1nOwogICAgICAgIHRoYXQuY3JlYXRlSW1nKCk7CiAgICAgICAgdGhhdC5zZXRTdGVwKDIpOwogICAgICB9OwogICAgfSwKICAgIC8vIOm8oOagh+aMieS4i+WbvueJh+WHhuWkh+enu+WKqAogICAgaW1nU3RhcnRNb3ZlKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAvLyDmlK/mjIHop6bmkbjkuovku7bvvIzliJnpvKDmoIfkuovku7bml6DmlYgKICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0VG91Y2ggJiYgIWUudGFyZ2V0VG91Y2hlcykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICBsZXQgZXQgPSBlLnRhcmdldFRvdWNoZXMgPyBlLnRhcmdldFRvdWNoZXNbMF0gOiBlLAogICAgICAgIHsKICAgICAgICAgIHNvdXJjZUltZ01vdXNlRG93biwKICAgICAgICAgIHNjYWxlCiAgICAgICAgfSA9IHRoaXMsCiAgICAgICAgc2ltZCA9IHNvdXJjZUltZ01vdXNlRG93bjsKICAgICAgc2ltZC5tWCA9IGV0LnNjcmVlblg7CiAgICAgIHNpbWQubVkgPSBldC5zY3JlZW5ZOwogICAgICBzaW1kLnggPSBzY2FsZS54OwogICAgICBzaW1kLnkgPSBzY2FsZS55OwogICAgICBzaW1kLm9uID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDpvKDmoIfmjInkuIvnirbmgIHkuIvnp7vliqjvvIzlm77niYfnp7vliqgKICAgIGltZ01vdmUoZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIC8vIOaUr+aMgeinpuaRuOS6i+S7tu+8jOWImem8oOagh+S6i+S7tuaXoOaViAogICAgICBpZiAodGhpcy5pc1N1cHBvcnRUb3VjaCAmJiAhZS50YXJnZXRUb3VjaGVzKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGxldCBldCA9IGUudGFyZ2V0VG91Y2hlcyA/IGUudGFyZ2V0VG91Y2hlc1swXSA6IGUsCiAgICAgICAgewogICAgICAgICAgc291cmNlSW1nTW91c2VEb3duOiB7CiAgICAgICAgICAgIG9uLAogICAgICAgICAgICBtWCwKICAgICAgICAgICAgbVksCiAgICAgICAgICAgIHgsCiAgICAgICAgICAgIHkKICAgICAgICAgIH0sCiAgICAgICAgICBzY2FsZSwKICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmcKICAgICAgICB9ID0gdGhpcywKICAgICAgICBzaW0gPSBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgIG5YID0gZXQuc2NyZWVuWCwKICAgICAgICBuWSA9IGV0LnNjcmVlblksCiAgICAgICAgZFggPSBuWCAtIG1YLAogICAgICAgIGRZID0gblkgLSBtWSwKICAgICAgICByWCA9IHggKyBkWCwKICAgICAgICByWSA9IHkgKyBkWTsKICAgICAgaWYgKCFvbikgcmV0dXJuOwogICAgICBpZiAoclggPiAwKSB7CiAgICAgICAgclggPSAwOwogICAgICB9CiAgICAgIGlmIChyWSA+IDApIHsKICAgICAgICByWSA9IDA7CiAgICAgIH0KICAgICAgaWYgKHJYIDwgc2ltLndpZHRoIC0gc2NhbGUud2lkdGgpIHsKICAgICAgICByWCA9IHNpbS53aWR0aCAtIHNjYWxlLndpZHRoOwogICAgICB9CiAgICAgIGlmIChyWSA8IHNpbS5oZWlnaHQgLSBzY2FsZS5oZWlnaHQpIHsKICAgICAgICByWSA9IHNpbS5oZWlnaHQgLSBzY2FsZS5oZWlnaHQ7CiAgICAgIH0KICAgICAgc2NhbGUueCA9IHJYOwogICAgICBzY2FsZS55ID0gclk7CiAgICB9LAogICAgLy8g6aG65pe26ZKI5peL6L2s5Zu+54mHCiAgICByb3RhdGVJbWcoZSkgewogICAgICBsZXQgewogICAgICAgICAgc291cmNlSW1nLAogICAgICAgICAgc2NhbGU6IHsKICAgICAgICAgICAgbmF0dXJhbFdpZHRoLAogICAgICAgICAgICBuYXR1cmFsSGVpZ2h0CiAgICAgICAgICB9CiAgICAgICAgfSA9IHRoaXMsCiAgICAgICAgd2lkdGggPSBuYXR1cmFsSGVpZ2h0LAogICAgICAgIGhlaWdodCA9IG5hdHVyYWxXaWR0aCwKICAgICAgICBjYW52YXMgPSB0aGlzLiRyZWZzLmNhbnZhcywKICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgY2FudmFzLndpZHRoID0gd2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7CiAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgwLDAsMCwwKSc7CiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgY3R4LnRyYW5zbGF0ZSh3aWR0aCwgMCk7CiAgICAgIGN0eC5yb3RhdGUoTWF0aC5QSSAqIDkwIC8gMTgwKTsKICAgICAgY3R4LmRyYXdJbWFnZShzb3VyY2VJbWcsIDAsIDAsIG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCk7CiAgICAgIGxldCBpbWdVcmwgPSBjYW52YXMudG9EYXRhVVJMKF9taW1lcy5kZWZhdWx0WydwbmcnXSk7CiAgICAgIHRoaXMuc291cmNlSW1nVXJsID0gaW1nVXJsOwogICAgICB0aGlzLnN0YXJ0Q3JvcCgpOwogICAgfSwKICAgIC8vIOaMiemSruaMieS4i+W8gOWni+aUvuWkpwogICAgc3RhcnRab29tQWRkKGUpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzLAogICAgICAgIHsKICAgICAgICAgIHNjYWxlCiAgICAgICAgfSA9IHRoYXQ7CiAgICAgIHNjYWxlLnpvb21BZGRPbiA9IHRydWU7CiAgICAgIGZ1bmN0aW9uIHpvb20oKSB7CiAgICAgICAgaWYgKHNjYWxlLnpvb21BZGRPbikgewogICAgICAgICAgbGV0IHJhbmdlID0gc2NhbGUucmFuZ2UgPj0gMTAwID8gMTAwIDogKytzY2FsZS5yYW5nZTsKICAgICAgICAgIHRoYXQuem9vbUltZyhyYW5nZSk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgem9vbSgpOwogICAgICAgICAgfSwgNjApOwogICAgICAgIH0KICAgICAgfQogICAgICB6b29tKCk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5p2+5byA5oiW56e75byA5Y+W5raI5pS+5aSnCiAgICBlbmRab29tQWRkKGUpIHsKICAgICAgdGhpcy5zY2FsZS56b29tQWRkT24gPSBmYWxzZTsKICAgIH0sCiAgICAvLyDmjInpkq7mjInkuIvlvIDlp4vnvKnlsI8KICAgIHN0YXJ0Wm9vbVN1YihlKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcywKICAgICAgICB7CiAgICAgICAgICBzY2FsZQogICAgICAgIH0gPSB0aGF0OwogICAgICBzY2FsZS56b29tU3ViT24gPSB0cnVlOwogICAgICBmdW5jdGlvbiB6b29tKCkgewogICAgICAgIGlmIChzY2FsZS56b29tU3ViT24pIHsKICAgICAgICAgIGxldCByYW5nZSA9IHNjYWxlLnJhbmdlIDw9IDAgPyAwIDogLS1zY2FsZS5yYW5nZTsKICAgICAgICAgIHRoYXQuem9vbUltZyhyYW5nZSk7CiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgem9vbSgpOwogICAgICAgICAgfSwgNjApOwogICAgICAgIH0KICAgICAgfQogICAgICB6b29tKCk7CiAgICB9LAogICAgLy8g5oyJ6ZKu5p2+5byA5oiW56e75byA5Y+W5raI57yp5bCPCiAgICBlbmRab29tU3ViKGUpIHsKICAgICAgbGV0IHsKICAgICAgICBzY2FsZQogICAgICB9ID0gdGhpczsKICAgICAgc2NhbGUuem9vbVN1Yk9uID0gZmFsc2U7CiAgICB9LAogICAgem9vbUNoYW5nZShlKSB7CiAgICAgIHRoaXMuem9vbUltZyhlLnRhcmdldC52YWx1ZSk7CiAgICB9LAogICAgLy8g57yp5pS+5Y6f5Zu+CiAgICB6b29tSW1nKG5ld1JhbmdlKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcywKICAgICAgICB7CiAgICAgICAgICBzb3VyY2VJbWdNYXNraW5nLAogICAgICAgICAgc291cmNlSW1nTW91c2VEb3duLAogICAgICAgICAgc2NhbGUKICAgICAgICB9ID0gdGhpcywKICAgICAgICB7CiAgICAgICAgICBtYXhXaWR0aCwKICAgICAgICAgIG1heEhlaWdodCwKICAgICAgICAgIG1pbldpZHRoLAogICAgICAgICAgbWluSGVpZ2h0LAogICAgICAgICAgd2lkdGgsCiAgICAgICAgICBoZWlnaHQsCiAgICAgICAgICB4LAogICAgICAgICAgeSwKICAgICAgICAgIHJhbmdlCiAgICAgICAgfSA9IHNjYWxlLAogICAgICAgIHNpbSA9IHNvdXJjZUltZ01hc2tpbmcsCiAgICAgICAgLy8g6JKZ54mI5a696auYCiAgICAgICAgc1dpZHRoID0gc2ltLndpZHRoLAogICAgICAgIHNIZWlnaHQgPSBzaW0uaGVpZ2h0LAogICAgICAgIC8vIOaWsOWuvemrmAogICAgICAgIG5XaWR0aCA9IG1pbldpZHRoICsgKG1heFdpZHRoIC0gbWluV2lkdGgpICogbmV3UmFuZ2UgLyAxMDAsCiAgICAgICAgbkhlaWdodCA9IG1pbkhlaWdodCArIChtYXhIZWlnaHQgLSBtaW5IZWlnaHQpICogbmV3UmFuZ2UgLyAxMDAsCiAgICAgICAgLy8g5paw5Z2Q5qCH77yI5qC55o2u6JKZ54mI5Lit5b+D54K557yp5pS+77yJCiAgICAgICAgblggPSBzV2lkdGggLyAyIC0gbldpZHRoIC8gd2lkdGggKiAoc1dpZHRoIC8gMiAtIHgpLAogICAgICAgIG5ZID0gc0hlaWdodCAvIDIgLSBuSGVpZ2h0IC8gaGVpZ2h0ICogKHNIZWlnaHQgLyAyIC0geSk7CgogICAgICAvLyDliKTmlq3mlrDlnZDmoIfmmK/lkKbotoXov4fokpnniYjpmZDliLYKICAgICAgaWYgKG5YID4gMCkgewogICAgICAgIG5YID0gMDsKICAgICAgfQogICAgICBpZiAoblkgPiAwKSB7CiAgICAgICAgblkgPSAwOwogICAgICB9CiAgICAgIGlmIChuWCA8IHNXaWR0aCAtIG5XaWR0aCkgewogICAgICAgIG5YID0gc1dpZHRoIC0gbldpZHRoOwogICAgICB9CiAgICAgIGlmIChuWSA8IHNIZWlnaHQgLSBuSGVpZ2h0KSB7CiAgICAgICAgblkgPSBzSGVpZ2h0IC0gbkhlaWdodDsKICAgICAgfQoKICAgICAgLy8g6LWL5YC85aSE55CGCiAgICAgIHNjYWxlLnggPSBuWDsKICAgICAgc2NhbGUueSA9IG5ZOwogICAgICBzY2FsZS53aWR0aCA9IG5XaWR0aDsKICAgICAgc2NhbGUuaGVpZ2h0ID0gbkhlaWdodDsKICAgICAgc2NhbGUucmFuZ2UgPSBuZXdSYW5nZTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHNjYWxlLnJhbmdlID09IG5ld1JhbmdlKSB7CiAgICAgICAgICB0aGF0LmNyZWF0ZUltZygpOwogICAgICAgIH0KICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICAvLyDnlJ/miJDpnIDmsYLlm77niYcKICAgIGNyZWF0ZUltZyhlKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcywKICAgICAgICB7CiAgICAgICAgICBpbWdGb3JtYXQsCiAgICAgICAgICBpbWdCZ2MsCiAgICAgICAgICBtaW1lLAogICAgICAgICAgc291cmNlSW1nLAogICAgICAgICAgc2NhbGU6IHsKICAgICAgICAgICAgeCwKICAgICAgICAgICAgeSwKICAgICAgICAgICAgd2lkdGgsCiAgICAgICAgICAgIGhlaWdodAogICAgICAgICAgfSwKICAgICAgICAgIHNvdXJjZUltZ01hc2tpbmc6IHsKICAgICAgICAgICAgc2NhbGUKICAgICAgICAgIH0KICAgICAgICB9ID0gdGhhdCwKICAgICAgICBjYW52YXMgPSB0aGF0LiRyZWZzLmNhbnZhcywKICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsKICAgICAgaWYgKGUpIHsKICAgICAgICAvLyDlj5bmtojpvKDmoIfmjInkuIvnp7vliqjnirbmgIEKICAgICAgICB0aGF0LnNvdXJjZUltZ01vdXNlRG93bi5vbiA9IGZhbHNlOwogICAgICB9CiAgICAgIGNhbnZhcy53aWR0aCA9IHRoYXQud2lkdGg7CiAgICAgIGNhbnZhcy5oZWlnaHQgPSB0aGF0LmhlaWdodDsKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGF0LndpZHRoLCB0aGF0LmhlaWdodCk7CiAgICAgIGlmIChpbWdGb3JtYXQgPT0gJ3BuZycpIHsKICAgICAgICBjdHguZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMCknOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOWmguaenGpwZyDkuLrpgI/mmI7ljLrln5/orr7nva7og4zmma/vvIzpu5jorqTnmb3oibIKICAgICAgICBjdHguZmlsbFN0eWxlID0gaW1nQmdjOwogICAgICB9CiAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB0aGF0LndpZHRoLCB0aGF0LmhlaWdodCk7CiAgICAgIGN0eC5kcmF3SW1hZ2Uoc291cmNlSW1nLCB4IC8gc2NhbGUsIHkgLyBzY2FsZSwgd2lkdGggLyBzY2FsZSwgaGVpZ2h0IC8gc2NhbGUpOwogICAgICB0aGF0LmNyZWF0ZUltZ1VybCA9IGNhbnZhcy50b0RhdGFVUkwobWltZSk7CiAgICB9LAogICAgcHJlcGFyZVVwbG9hZCgpIHsKICAgICAgbGV0IHsKICAgICAgICB1cmwsCiAgICAgICAgY3JlYXRlSW1nVXJsLAogICAgICAgIGZpZWxkLAogICAgICAgIGtpCiAgICAgIH0gPSB0aGlzOwogICAgICB0aGlzLiRlbWl0KCdjcm9wLXN1Y2Nlc3MnLCBjcmVhdGVJbWdVcmwsIGZpZWxkLCBraSk7CiAgICAgIGlmICh0eXBlb2YgdXJsID09ICdzdHJpbmcnICYmIHVybCkgewogICAgICAgIHRoaXMudXBsb2FkKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vZmYoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOS4iuS8oOWbvueJhwogICAgdXBsb2FkKCkgewogICAgICBsZXQgdGhhdCA9IHRoaXMsCiAgICAgICAgewogICAgICAgICAgbGFuZywKICAgICAgICAgIGltZ0Zvcm1hdCwKICAgICAgICAgIG1pbWUsCiAgICAgICAgICB1cmwsCiAgICAgICAgICBwYXJhbXMsCiAgICAgICAgICBoZWFkZXJzLAogICAgICAgICAgZmllbGQsCiAgICAgICAgICBraSwKICAgICAgICAgIGNyZWF0ZUltZ1VybCwKICAgICAgICAgIHdpdGhDcmVkZW50aWFscywKICAgICAgICAgIG1ldGhvZAogICAgICAgIH0gPSB0aGlzLAogICAgICAgIGZtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmbURhdGEuYXBwZW5kKGZpZWxkLCAoMCwgX2RhdGEyYmxvYi5kZWZhdWx0KShjcmVhdGVJbWdVcmwsIG1pbWUpLCBmaWVsZCArICcuJyArIGltZ0Zvcm1hdCk7CgogICAgICAvLyDmt7vliqDlhbbku5blj4LmlbAKICAgICAgaWYgKHR5cGVvZiBwYXJhbXMgPT0gJ29iamVjdCcgJiYgcGFyYW1zKSB7CiAgICAgICAgT2JqZWN0LmtleXMocGFyYW1zKS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgZm1EYXRhLmFwcGVuZChrLCBwYXJhbXNba10pOwogICAgICAgIH0pOwogICAgICB9CgogICAgICAvLyDnm5HlkKzov5vluqblm57osIMKICAgICAgY29uc3QgdXBsb2FkUHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkgewogICAgICAgICAgdGhhdC5wcm9ncmVzcyA9IDEwMCAqIE1hdGgucm91bmQoZXZlbnQubG9hZGVkKSAvIGV2ZW50LnRvdGFsOwogICAgICAgIH0KICAgICAgfTsKCiAgICAgIC8vIOS4iuS8oOaWh+S7tgogICAgICB0aGF0LnJlc2V0KCk7CiAgICAgIHRoYXQubG9hZGluZyA9IDE7CiAgICAgIHRoYXQuc2V0U3RlcCgzKTsKICAgICAgbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGxldCBjbGllbnQgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICBjbGllbnQub3BlbihtZXRob2QsIHVybCwgdHJ1ZSk7CiAgICAgICAgY2xpZW50LndpdGhDcmVkZW50aWFscyA9IHdpdGhDcmVkZW50aWFsczsKICAgICAgICBjbGllbnQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSAhPT0gNCkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT09IDIwMCB8fCB0aGlzLnN0YXR1cyA9PT0gMjAxKSB7CiAgICAgICAgICAgIHJlc29sdmUoSlNPTi5wYXJzZSh0aGlzLnJlc3BvbnNlVGV4dCkpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHRoaXMuc3RhdHVzKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGNsaWVudC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcigicHJvZ3Jlc3MiLCB1cGxvYWRQcm9ncmVzcywgZmFsc2UpOyAvL+ebkeWQrOi/m+W6pgogICAgICAgIC8vIOiuvue9rmhlYWRlcgogICAgICAgIGlmICh0eXBlb2YgaGVhZGVycyA9PSAnb2JqZWN0JyAmJiBoZWFkZXJzKSB7CiAgICAgICAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGsgPT4gewogICAgICAgICAgICBjbGllbnQuc2V0UmVxdWVzdEhlYWRlcihrLCBoZWFkZXJzW2tdKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICBjbGllbnQuc2VuZChmbURhdGEpOwogICAgICB9KS50aGVuKAogICAgICAvLyDkuIrkvKDmiJDlip8KICAgICAgZnVuY3Rpb24gKHJlc0RhdGEpIHsKICAgICAgICBpZiAodGhhdC52YWx1ZSkgewogICAgICAgICAgdGhhdC5sb2FkaW5nID0gMjsKICAgICAgICAgIHRoYXQuJGVtaXQoJ2Nyb3AtdXBsb2FkLXN1Y2Nlc3MnLCByZXNEYXRhLCBmaWVsZCwga2kpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgLy8g5LiK5Lyg5aSx6LSlCiAgICAgIGZ1bmN0aW9uIChzdHMpIHsKICAgICAgICBpZiAodGhhdC52YWx1ZSkgewogICAgICAgICAgdGhhdC5sb2FkaW5nID0gMzsKICAgICAgICAgIHRoYXQuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgICAgdGhhdC5lcnJvck1zZyA9IGxhbmcuZmFpbDsKICAgICAgICAgIHRoYXQuJGVtaXQoJ2Nyb3AtdXBsb2FkLWZhaWwnLCBzdHMsIGZpZWxkLCBraSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyDnu5HlrprmjInplK5lc2PpmpDol4/mraTmj5Lku7bkuovku7YKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgZSA9PiB7CiAgICAgIGlmICh0aGlzLnZhbHVlICYmIChlLmtleSA9PSAnRXNjYXBlJyB8fCBlLmtleUNvZGUgPT0gMjcpKSB7CiAgICAgICAgdGhpcy5vZmYoKTsKICAgICAgfQogICAgfSk7CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},null]}